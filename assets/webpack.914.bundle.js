"use strict";(self.webpackChunkecomm_levity=self.webpackChunkecomm_levity||[]).push([[914],{8914:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});n(5666),n(8309),n(2222),n(7941),n(248),n(3710),n(5827),n(2707),n(1539),n(8674),n(9753),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(9070),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321),n(2772);var r=n(7294),a=n(5697),o=n.n(a),i=n(1893),l=n(3869),c=n(1375),s=n(6757),u=n(3440),m=n(1573),d=["modalShown"],f=["modalShown"],p=["image_desktop","image_tablet","line_1_text","line_3_text","offer_title","button_text","legal_text"];function g(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(){var e=localStorage.getItem("userPageData");return e?JSON.parse(e):null},O=function(e,t){if(e&&t){var n=E()||{},r={};"Array"===t.constructor.name&&(r=x({},e,n[e]?[].concat(w(n[e]),w(t)):w(t))),"String"===t.constructor.name&&"Boolean"===t.constructor.name&&"Number"===t.constructor.name&&(r=x({},e,t));var a=v(v({},n),r);return localStorage.setItem("userPageData",JSON.stringify(a))}return null},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;setTimeout((function(){e(!0),O("modalShown",[new Date])}),t)},k=function(e,t){var n,r=t.initial_pop_up_time,a=t.last_chance_page_limit,o=t.initial_load_time;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1728e5,t=E();if(!t)return!1;var n=new Date,r=(t.modalShown,h(t,f)),a=Object.keys(r).reduce((function(e,t){return e.push.apply(e,w(r[t])),e}),[]),o=new Date(a.sort()[a.length-1]);return n.getTime()-o.getTime()>e})(r)&&(localStorage.setItem("userPageData",JSON.stringify({})),j(e,o)),O(location.pathname,[new Date]),n=E(),Object.prototype.hasOwnProperty.call(n,"modalShown")?function(){var e=E();return e&&Object.keys(e).length>2}()&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=E(),n=(t.modalShown,h(t,d));return Object.keys(n).length===e&&1===t[location.pathname].length}(a)&&j(e,o):j(e,o)},N=function(e){var t=e.settings,n=b((0,r.useState)(!1),2),a=n[0],o=n[1],i=b((0,r.useState)(""),2),d=i[0],f=i[1],y=b((0,r.useState)(!1),2),v=y[0],x=y[1],w=b((0,r.useState)(""),2),_=w[0],S=w[1],E=t.image_desktop,O=t.image_tablet,j=t.line_1_text,N=t.line_3_text,M=t.offer_title,A=t.button_text,C=t.legal_text,T=h(t,p);(0,r.useEffect)((function(){k(o,T)}),[T]);var R=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,m.nZ)({g:"VMM4Xm",$fields:"Source, Medium, Campaign, customSource, $source, $consent_form_id, $consent_method, $source_swell_modal",email:d,Source:"direct",Medium:"direct",Campaign:"direct",customSource:"Entrance Modal",$source:"Entrance Modal",$consent_form_id:"SxEnPF",$consent_method:"Klaviyo Form",$source_swell_modal:"Entrance Modal"}),e.prev=1,e.next=4,fetch("https://manage.kmail-lists.com/ajax/subscriptions/subscribe",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded","cache-control":"no-cache"},body:t}).then((function(e){return e.json()}));case 4:if(!0!==(n=e.sent).success){e.next=9;break}x(!0),e.next=10;break;case 9:throw new Error(JSON.stringify(n.errors));case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),S("Please try again"),setTimeout((function(){S("")}),3e3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,l,"next",e)}function l(e){g(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return r.createElement(l.M,{initial:!1},a&&r.createElement(c.E.div,{id:"pop-up-modal",key:"content",initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.5},onClick:function(e){"pop-up-modal"===e.target.id&&o(!1)},className:" bg-gray-800 bg-opacity-70 fixed grid h-full items-center justify-items-center left-0 top-0 w-full z-40 "},r.createElement(P,null,r.createElement("div",{className:"absolute right-4 top-4 lg:right-8 lg:top-8 cursor-pointer z-50",onClick:function(){return o(!a)},tabIndex:0,onKeyDown:function(){},role:"button"},r.createElement(s.Z,null)),r.createElement("div",{className:"hidden lg:block pl-8 py-8"},r.createElement(I,{className:"hidden xl:block",img:E}),r.createElement(I,{className:"hidden lg:block xl:hidden",img:O})),r.createElement("div",{className:"grid items-center justify-items-center relative"},r.createElement("div",{onKeyDown:function(e){"Enter"===e.key&&R()},role:"button",tabIndex:0,className:"grid justify-items-center font-serif center"},v?r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-5 text-2xl text-blue"},"Thanks for subscribing!"),r.createElement("div",{className:"text-blue text-lg"},"Check your email ",r.createElement("br",null),"for a confirmation message"),r.createElement("div",{className:"mb-8 w-full uppercase mt-5"},r.createElement(u.Z,{brown:!0,buttonAction:function(){return o(!1)}},"Start Shopping"))):r.createElement(r.Fragment,null,r.createElement("div",{className:"text-base lg:text-lg"},j),r.createElement("div",{className:"text-4xl text-blue mb-5 mt-2"},M),r.createElement("div",{className:"text-base lg:text-lg mb-12"},N),r.createElement("input",{className:"mb-0 border-b-1 border-black border-l-0 border-r-0 border-t-0 rounded-none text-base w-full focus:shadow-none",type:"text",placeholder:"Email Address",value:d,onChange:function(e){return f(e.target.value)}}),r.createElement("div",{className:"text-red-600 text-xs mt-2"},_),r.createElement("div",{className:"mb-8 w-full uppercase mt-5"},r.createElement(u.Z,{brown:!0,isValid:(0,m.vV)(d),buttonAction:R},A)),r.createElement(D,{dangerouslySetInnerHTML:{__html:C}})))))))},P=i.ZP.div.attrs({className:"bg-white grid relative rounded-lg lg:grid-cols-2"}).withConfig({displayName:"PopUpModal__Modal",componentId:"sc-v5jm6m-0"})(["width:343px;height:527px;@media (min-width:1024px){height:600px;width:800px;}"]),I=i.ZP.div.attrs({className:"bg-cover h-full w-full"}).withConfig({displayName:"PopUpModal__StyledImage",componentId:"sc-v5jm6m-1"})(["background-image:url(",");"],(function(e){return e.img})),D=i.ZP.div.attrs({className:"absolute bottom-8 center leading-4 text-xxs"}).withConfig({displayName:"PopUpModal__LegalText",componentId:"sc-v5jm6m-2"})(["a{",";}"],{textDecoration:"underline"});N.propTypes={settings:o().shape({image_desktop:o().string.isRequired,image_tablet:o().string.isRequired,line_1_text:o().string.isRequired,line_3_text:o().string.isRequired,offer_title:o().string.isRequired,button_text:o().string.isRequired,legal_text:o().string.isRequired}).isRequired};const M=N}}]);