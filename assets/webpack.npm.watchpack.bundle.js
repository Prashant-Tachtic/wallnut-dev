"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkecomm_levity"] = self["webpackChunkecomm_levity"] || []).push([["npm.watchpack"],{

/***/ "./node_modules/watchpack/lib/DirectoryWatcher.js":
/*!********************************************************!*\
  !*** ./node_modules/watchpack/lib/DirectoryWatcher.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\nconst EventEmitter = __webpack_require__(/*! events */ \"./node_modules/events/events.js\").EventEmitter;\nconst fs = __webpack_require__(/*! graceful-fs */ \"./node_modules/graceful-fs/graceful-fs.js\");\nconst path = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'path'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nconst watchEventSource = __webpack_require__(/*! ./watchEventSource */ \"./node_modules/watchpack/lib/watchEventSource.js\");\n\nconst EXISTANCE_ONLY_TIME_ENTRY = Object.freeze({});\n\nlet FS_ACCURACY = 1000;\n\nconst IS_OSX = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'os'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).platform() === \"darwin\";\nconst WATCHPACK_POLLING = process.env.WATCHPACK_POLLING;\nconst FORCE_POLLING =\n\t`${+WATCHPACK_POLLING}` === WATCHPACK_POLLING\n\t\t? +WATCHPACK_POLLING\n\t\t: !!WATCHPACK_POLLING && WATCHPACK_POLLING !== \"false\";\n\nfunction withoutCase(str) {\n\treturn str.toLowerCase();\n}\n\nfunction needCalls(times, callback) {\n\treturn function() {\n\t\tif (--times === 0) {\n\t\t\treturn callback();\n\t\t}\n\t};\n}\n\nclass Watcher extends EventEmitter {\n\tconstructor(directoryWatcher, filePath, startTime) {\n\t\tsuper();\n\t\tthis.directoryWatcher = directoryWatcher;\n\t\tthis.path = filePath;\n\t\tthis.startTime = startTime && +startTime;\n\t\tthis._cachedTimeInfoEntries = undefined;\n\t}\n\n\tcheckStartTime(mtime, initial) {\n\t\tconst startTime = this.startTime;\n\t\tif (typeof startTime !== \"number\") return !initial;\n\t\treturn startTime <= mtime;\n\t}\n\n\tclose() {\n\t\tthis.emit(\"closed\");\n\t}\n}\n\nclass DirectoryWatcher extends EventEmitter {\n\tconstructor(watcherManager, directoryPath, options) {\n\t\tsuper();\n\t\tif (FORCE_POLLING) {\n\t\t\toptions.poll = FORCE_POLLING;\n\t\t}\n\t\tthis.watcherManager = watcherManager;\n\t\tthis.options = options;\n\t\tthis.path = directoryPath;\n\t\t// safeTime is the point in time after which reading is safe to be unchanged\n\t\t// timestamp is a value that should be compared with another timestamp (mtime)\n\t\t/** @type {Map<string, { safeTime: number, timestamp: number }} */\n\t\tthis.files = new Map();\n\t\t/** @type {Map<string, number>} */\n\t\tthis.filesWithoutCase = new Map();\n\t\tthis.directories = new Map();\n\t\tthis.lastWatchEvent = 0;\n\t\tthis.initialScan = true;\n\t\tthis.ignored = options.ignored;\n\t\tthis.nestedWatching = false;\n\t\tthis.polledWatching =\n\t\t\ttypeof options.poll === \"number\"\n\t\t\t\t? options.poll\n\t\t\t\t: options.poll\n\t\t\t\t? 5007\n\t\t\t\t: false;\n\t\tthis.timeout = undefined;\n\t\tthis.initialScanRemoved = new Set();\n\t\tthis.initialScanFinished = undefined;\n\t\t/** @type {Map<string, Set<Watcher>>} */\n\t\tthis.watchers = new Map();\n\t\tthis.parentWatcher = null;\n\t\tthis.refs = 0;\n\t\tthis._activeEvents = new Map();\n\t\tthis.closed = false;\n\t\tthis.scanning = false;\n\t\tthis.scanAgain = false;\n\t\tthis.scanAgainInitial = false;\n\n\t\tthis.createWatcher();\n\t\tthis.doScan(true);\n\t}\n\n\tcheckIgnore(path) {\n\t\tif (!this.ignored) return false;\n\t\tpath = path.replace(/\\\\/g, \"/\");\n\t\treturn this.ignored.test(path);\n\t}\n\n\tcreateWatcher() {\n\t\ttry {\n\t\t\tif (this.polledWatching) {\n\t\t\t\tthis.watcher = {\n\t\t\t\t\tclose: () => {\n\t\t\t\t\t\tif (this.timeout) {\n\t\t\t\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\t\t\t\tthis.timeout = undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tif (IS_OSX) {\n\t\t\t\t\tthis.watchInParentDirectory();\n\t\t\t\t}\n\t\t\t\tthis.watcher = watchEventSource.watch(this.path);\n\t\t\t\tthis.watcher.on(\"change\", this.onWatchEvent.bind(this));\n\t\t\t\tthis.watcher.on(\"error\", this.onWatcherError.bind(this));\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tthis.onWatcherError(err);\n\t\t}\n\t}\n\n\tforEachWatcher(path, fn) {\n\t\tconst watchers = this.watchers.get(withoutCase(path));\n\t\tif (watchers !== undefined) {\n\t\t\tfor (const w of watchers) {\n\t\t\t\tfn(w);\n\t\t\t}\n\t\t}\n\t}\n\n\tsetMissing(itemPath, initial, type) {\n\t\tthis._cachedTimeInfoEntries = undefined;\n\n\t\tif (this.initialScan) {\n\t\t\tthis.initialScanRemoved.add(itemPath);\n\t\t}\n\n\t\tconst oldDirectory = this.directories.get(itemPath);\n\t\tif (oldDirectory) {\n\t\t\tif (this.nestedWatching) oldDirectory.close();\n\t\t\tthis.directories.delete(itemPath);\n\n\t\t\tthis.forEachWatcher(itemPath, w => w.emit(\"remove\", type));\n\t\t\tif (!initial) {\n\t\t\t\tthis.forEachWatcher(this.path, w =>\n\t\t\t\t\tw.emit(\"change\", itemPath, null, type, initial)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst oldFile = this.files.get(itemPath);\n\t\tif (oldFile) {\n\t\t\tthis.files.delete(itemPath);\n\t\t\tconst key = withoutCase(itemPath);\n\t\t\tconst count = this.filesWithoutCase.get(key) - 1;\n\t\t\tif (count <= 0) {\n\t\t\t\tthis.filesWithoutCase.delete(key);\n\t\t\t\tthis.forEachWatcher(itemPath, w => w.emit(\"remove\", type));\n\t\t\t} else {\n\t\t\t\tthis.filesWithoutCase.set(key, count);\n\t\t\t}\n\n\t\t\tif (!initial) {\n\t\t\t\tthis.forEachWatcher(this.path, w =>\n\t\t\t\t\tw.emit(\"change\", itemPath, null, type, initial)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tsetFileTime(filePath, mtime, initial, ignoreWhenEqual, type) {\n\t\tconst now = Date.now();\n\n\t\tif (this.checkIgnore(filePath)) return;\n\n\t\tconst old = this.files.get(filePath);\n\n\t\tlet safeTime, accuracy;\n\t\tif (initial) {\n\t\t\tsafeTime = Math.min(now, mtime) + FS_ACCURACY;\n\t\t\taccuracy = FS_ACCURACY;\n\t\t} else {\n\t\t\tsafeTime = now;\n\t\t\taccuracy = 0;\n\n\t\t\tif (old && old.timestamp === mtime && mtime + FS_ACCURACY < now - 1000) {\n\t\t\t\t// We are sure that mtime is untouched\n\t\t\t\t// This can be caused by some file attribute change\n\t\t\t\t// e. g. when access time has been changed\n\t\t\t\t// but the file content is untouched\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (ignoreWhenEqual && old && old.timestamp === mtime) return;\n\n\t\tthis.files.set(filePath, {\n\t\t\tsafeTime,\n\t\t\taccuracy,\n\t\t\ttimestamp: mtime\n\t\t});\n\t\tthis._cachedTimeInfoEntries = undefined;\n\n\t\tif (!old) {\n\t\t\tconst key = withoutCase(filePath);\n\t\t\tconst count = this.filesWithoutCase.get(key);\n\t\t\tthis.filesWithoutCase.set(key, (count || 0) + 1);\n\t\t\tif (count !== undefined) {\n\t\t\t\t// There is already a file with case-insensitive-equal name\n\t\t\t\t// On a case-insensitive filesystem we may miss the renaming\n\t\t\t\t// when only casing is changed.\n\t\t\t\t// To be sure that our information is correct\n\t\t\t\t// we trigger a rescan here\n\t\t\t\tthis.doScan(false);\n\t\t\t}\n\n\t\t\tthis.forEachWatcher(filePath, w => {\n\t\t\t\tif (!initial || w.checkStartTime(safeTime, initial)) {\n\t\t\t\t\tw.emit(\"change\", mtime, type);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (!initial) {\n\t\t\tthis.forEachWatcher(filePath, w => w.emit(\"change\", mtime, type));\n\t\t}\n\t\tthis.forEachWatcher(this.path, w => {\n\t\t\tif (!initial || w.checkStartTime(safeTime, initial)) {\n\t\t\t\tw.emit(\"change\", filePath, safeTime, type, initial);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetDirectory(directoryPath, birthtime, initial, type) {\n\t\tif (this.checkIgnore(directoryPath)) return;\n\t\tif (directoryPath === this.path) {\n\t\t\tif (!initial) {\n\t\t\t\tthis.forEachWatcher(this.path, w =>\n\t\t\t\t\tw.emit(\"change\", directoryPath, birthtime, type, initial)\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tconst old = this.directories.get(directoryPath);\n\t\t\tif (!old) {\n\t\t\t\tconst now = Date.now();\n\n\t\t\t\tthis._cachedTimeInfoEntries = undefined;\n\t\t\t\tif (this.nestedWatching) {\n\t\t\t\t\tthis.createNestedWatcher(directoryPath);\n\t\t\t\t} else {\n\t\t\t\t\tthis.directories.set(directoryPath, true);\n\t\t\t\t}\n\n\t\t\t\tlet safeTime;\n\t\t\t\tif (initial) {\n\t\t\t\t\tsafeTime = Math.min(now, birthtime) + FS_ACCURACY;\n\t\t\t\t} else {\n\t\t\t\t\tsafeTime = now;\n\t\t\t\t}\n\n\t\t\t\tthis.forEachWatcher(directoryPath, w => {\n\t\t\t\t\tif (!initial || w.checkStartTime(safeTime, false)) {\n\t\t\t\t\t\tw.emit(\"change\", birthtime, type);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.forEachWatcher(this.path, w => {\n\t\t\t\t\tif (!initial || w.checkStartTime(safeTime, initial)) {\n\t\t\t\t\t\tw.emit(\"change\", directoryPath, safeTime, type, initial);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateNestedWatcher(directoryPath) {\n\t\tconst watcher = this.watcherManager.watchDirectory(directoryPath, 1);\n\t\twatcher.on(\"change\", (filePath, mtime, type, initial) => {\n\t\t\tthis._cachedTimeInfoEntries = undefined;\n\t\t\tthis.forEachWatcher(this.path, w => {\n\t\t\t\tif (!initial || w.checkStartTime(mtime, initial)) {\n\t\t\t\t\tw.emit(\"change\", filePath, mtime, type, initial);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tthis.directories.set(directoryPath, watcher);\n\t}\n\n\tsetNestedWatching(flag) {\n\t\tif (this.nestedWatching !== !!flag) {\n\t\t\tthis.nestedWatching = !!flag;\n\t\t\tthis._cachedTimeInfoEntries = undefined;\n\t\t\tif (this.nestedWatching) {\n\t\t\t\tfor (const directory of this.directories.keys()) {\n\t\t\t\t\tthis.createNestedWatcher(directory);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const [directory, watcher] of this.directories) {\n\t\t\t\t\twatcher.close();\n\t\t\t\t\tthis.directories.set(directory, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\twatch(filePath, startTime) {\n\t\tconst key = withoutCase(filePath);\n\t\tlet watchers = this.watchers.get(key);\n\t\tif (watchers === undefined) {\n\t\t\twatchers = new Set();\n\t\t\tthis.watchers.set(key, watchers);\n\t\t}\n\t\tthis.refs++;\n\t\tconst watcher = new Watcher(this, filePath, startTime);\n\t\twatcher.on(\"closed\", () => {\n\t\t\tif (--this.refs <= 0) {\n\t\t\t\tthis.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twatchers.delete(watcher);\n\t\t\tif (watchers.size === 0) {\n\t\t\t\tthis.watchers.delete(key);\n\t\t\t\tif (this.path === filePath) this.setNestedWatching(false);\n\t\t\t}\n\t\t});\n\t\twatchers.add(watcher);\n\t\tlet safeTime;\n\t\tif (filePath === this.path) {\n\t\t\tthis.setNestedWatching(true);\n\t\t\tsafeTime = this.lastWatchEvent;\n\t\t\tfor (const entry of this.files.values()) {\n\t\t\t\tfixupEntryAccuracy(entry);\n\t\t\t\tsafeTime = Math.max(safeTime, entry.safeTime);\n\t\t\t}\n\t\t} else {\n\t\t\tconst entry = this.files.get(filePath);\n\t\t\tif (entry) {\n\t\t\t\tfixupEntryAccuracy(entry);\n\t\t\t\tsafeTime = entry.safeTime;\n\t\t\t} else {\n\t\t\t\tsafeTime = 0;\n\t\t\t}\n\t\t}\n\t\tif (safeTime) {\n\t\t\tif (safeTime >= startTime) {\n\t\t\t\tprocess.nextTick(() => {\n\t\t\t\t\tif (this.closed) return;\n\t\t\t\t\tif (filePath === this.path) {\n\t\t\t\t\t\twatcher.emit(\n\t\t\t\t\t\t\t\"change\",\n\t\t\t\t\t\t\tfilePath,\n\t\t\t\t\t\t\tsafeTime,\n\t\t\t\t\t\t\t\"watch (outdated on attach)\",\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twatcher.emit(\n\t\t\t\t\t\t\t\"change\",\n\t\t\t\t\t\t\tsafeTime,\n\t\t\t\t\t\t\t\"watch (outdated on attach)\",\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (this.initialScan) {\n\t\t\tif (this.initialScanRemoved.has(filePath)) {\n\t\t\t\tprocess.nextTick(() => {\n\t\t\t\t\tif (this.closed) return;\n\t\t\t\t\twatcher.emit(\"remove\");\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (\n\t\t\t!this.directories.has(filePath) &&\n\t\t\twatcher.checkStartTime(this.initialScanFinished, false)\n\t\t) {\n\t\t\tprocess.nextTick(() => {\n\t\t\t\tif (this.closed) return;\n\t\t\t\twatcher.emit(\"initial-missing\", \"watch (missing on attach)\");\n\t\t\t});\n\t\t}\n\t\treturn watcher;\n\t}\n\n\tonWatchEvent(eventType, filename) {\n\t\tif (this.closed) return;\n\t\tif (!filename) {\n\t\t\t// In some cases no filename is provided\n\t\t\t// This seem to happen on windows\n\t\t\t// So some event happened but we don't know which file is affected\n\t\t\t// We have to do a full scan of the directory\n\t\t\tthis.doScan(false);\n\t\t\treturn;\n\t\t}\n\n\t\tconst filePath = path.join(this.path, filename);\n\t\tif (this.checkIgnore(filePath)) return;\n\n\t\tif (this._activeEvents.get(filename) === undefined) {\n\t\t\tthis._activeEvents.set(filename, false);\n\t\t\tconst checkStats = () => {\n\t\t\t\tif (this.closed) return;\n\t\t\t\tthis._activeEvents.set(filename, false);\n\t\t\t\tfs.lstat(filePath, (err, stats) => {\n\t\t\t\t\tif (this.closed) return;\n\t\t\t\t\tif (this._activeEvents.get(filename) === true) {\n\t\t\t\t\t\tprocess.nextTick(checkStats);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._activeEvents.delete(filename);\n\t\t\t\t\t// ENOENT happens when the file/directory doesn't exist\n\t\t\t\t\t// EPERM happens when the containing directory doesn't exist\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\terr.code !== \"ENOENT\" &&\n\t\t\t\t\t\t\terr.code !== \"EPERM\" &&\n\t\t\t\t\t\t\terr.code !== \"EBUSY\"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.onStatsError(err);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (filename === path.basename(this.path)) {\n\t\t\t\t\t\t\t\t// This may indicate that the directory itself was removed\n\t\t\t\t\t\t\t\tif (!fs.existsSync(this.path)) {\n\t\t\t\t\t\t\t\t\tthis.onDirectoryRemoved(\"stat failed\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.lastWatchEvent = Date.now();\n\t\t\t\t\tthis._cachedTimeInfoEntries = undefined;\n\t\t\t\t\tif (!stats) {\n\t\t\t\t\t\tthis.setMissing(filePath, false, eventType);\n\t\t\t\t\t} else if (stats.isDirectory()) {\n\t\t\t\t\t\tthis.setDirectory(\n\t\t\t\t\t\t\tfilePath,\n\t\t\t\t\t\t\t+stats.birthtime || 1,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\teventType\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (stats.isFile() || stats.isSymbolicLink()) {\n\t\t\t\t\t\tif (stats.mtime) {\n\t\t\t\t\t\t\tensureFsAccuracy(stats.mtime);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setFileTime(\n\t\t\t\t\t\t\tfilePath,\n\t\t\t\t\t\t\t+stats.mtime || +stats.ctime || 1,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\teventType\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t\tprocess.nextTick(checkStats);\n\t\t} else {\n\t\t\tthis._activeEvents.set(filename, true);\n\t\t}\n\t}\n\n\tonWatcherError(err) {\n\t\tif (this.closed) return;\n\t\tif (err) {\n\t\t\tif (err.code !== \"EPERM\" && err.code !== \"ENOENT\") {\n\t\t\t\tconsole.error(\"Watchpack Error (watcher): \" + err);\n\t\t\t}\n\t\t\tthis.onDirectoryRemoved(\"watch error\");\n\t\t}\n\t}\n\n\tonStatsError(err) {\n\t\tif (err) {\n\t\t\tconsole.error(\"Watchpack Error (stats): \" + err);\n\t\t}\n\t}\n\n\tonScanError(err) {\n\t\tif (err) {\n\t\t\tconsole.error(\"Watchpack Error (initial scan): \" + err);\n\t\t}\n\t\tthis.onScanFinished();\n\t}\n\n\tonScanFinished() {\n\t\tif (this.polledWatching) {\n\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\tif (this.closed) return;\n\t\t\t\tthis.doScan(false);\n\t\t\t}, this.polledWatching);\n\t\t}\n\t}\n\n\tonDirectoryRemoved(reason) {\n\t\tif (this.watcher) {\n\t\t\tthis.watcher.close();\n\t\t\tthis.watcher = null;\n\t\t}\n\t\tthis.watchInParentDirectory();\n\t\tconst type = `directory-removed (${reason})`;\n\t\tfor (const directory of this.directories.keys()) {\n\t\t\tthis.setMissing(directory, null, type);\n\t\t}\n\t\tfor (const file of this.files.keys()) {\n\t\t\tthis.setMissing(file, null, type);\n\t\t}\n\t}\n\n\twatchInParentDirectory() {\n\t\tif (!this.parentWatcher) {\n\t\t\tconst parentDir = path.dirname(this.path);\n\t\t\t// avoid watching in the root directory\n\t\t\t// removing directories in the root directory is not supported\n\t\t\tif (path.dirname(parentDir) === parentDir) return;\n\n\t\t\tthis.parentWatcher = this.watcherManager.watchFile(this.path, 1);\n\t\t\tthis.parentWatcher.on(\"change\", (mtime, type) => {\n\t\t\t\tif (this.closed) return;\n\n\t\t\t\t// On non-osx platforms we don't need this watcher to detect\n\t\t\t\t// directory removal, as an EPERM error indicates that\n\t\t\t\tif ((!IS_OSX || this.polledWatching) && this.parentWatcher) {\n\t\t\t\t\tthis.parentWatcher.close();\n\t\t\t\t\tthis.parentWatcher = null;\n\t\t\t\t}\n\t\t\t\t// Try to create the watcher when parent directory is found\n\t\t\t\tif (!this.watcher) {\n\t\t\t\t\tthis.createWatcher();\n\t\t\t\t\tthis.doScan(false);\n\n\t\t\t\t\t// directory was created so we emit an event\n\t\t\t\t\tthis.forEachWatcher(this.path, w =>\n\t\t\t\t\t\tw.emit(\"change\", this.path, mtime, type, false)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.parentWatcher.on(\"remove\", () => {\n\t\t\t\tthis.onDirectoryRemoved(\"parent directory removed\");\n\t\t\t});\n\t\t}\n\t}\n\n\tdoScan(initial) {\n\t\tif (this.scanning) {\n\t\t\tif (this.scanAgain) {\n\t\t\t\tif (!initial) this.scanAgainInitial = false;\n\t\t\t} else {\n\t\t\t\tthis.scanAgain = true;\n\t\t\t\tthis.scanAgainInitial = initial;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tthis.scanning = true;\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t\tthis.timeout = undefined;\n\t\t}\n\t\tprocess.nextTick(() => {\n\t\t\tif (this.closed) return;\n\t\t\tfs.readdir(this.path, (err, items) => {\n\t\t\t\tif (this.closed) return;\n\t\t\t\tif (err) {\n\t\t\t\t\tif (err.code === \"ENOENT\" || err.code === \"EPERM\") {\n\t\t\t\t\t\tthis.onDirectoryRemoved(\"scan readdir failed\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.onScanError(err);\n\t\t\t\t\t}\n\t\t\t\t\tthis.initialScan = false;\n\t\t\t\t\tthis.initialScanFinished = Date.now();\n\t\t\t\t\tif (initial) {\n\t\t\t\t\t\tfor (const watchers of this.watchers.values()) {\n\t\t\t\t\t\t\tfor (const watcher of watchers) {\n\t\t\t\t\t\t\t\tif (watcher.checkStartTime(this.initialScanFinished, false)) {\n\t\t\t\t\t\t\t\t\twatcher.emit(\n\t\t\t\t\t\t\t\t\t\t\"initial-missing\",\n\t\t\t\t\t\t\t\t\t\t\"scan (parent directory missing in initial scan)\"\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this.scanAgain) {\n\t\t\t\t\t\tthis.scanAgain = false;\n\t\t\t\t\t\tthis.doScan(this.scanAgainInitial);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.scanning = false;\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst itemPaths = new Set(\n\t\t\t\t\titems.map(item => path.join(this.path, item.normalize(\"NFC\")))\n\t\t\t\t);\n\t\t\t\tfor (const file of this.files.keys()) {\n\t\t\t\t\tif (!itemPaths.has(file)) {\n\t\t\t\t\t\tthis.setMissing(file, initial, \"scan (missing)\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const directory of this.directories.keys()) {\n\t\t\t\t\tif (!itemPaths.has(directory)) {\n\t\t\t\t\t\tthis.setMissing(directory, initial, \"scan (missing)\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.scanAgain) {\n\t\t\t\t\t// Early repeat of scan\n\t\t\t\t\tthis.scanAgain = false;\n\t\t\t\t\tthis.doScan(initial);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst itemFinished = needCalls(itemPaths.size + 1, () => {\n\t\t\t\t\tif (this.closed) return;\n\t\t\t\t\tthis.initialScan = false;\n\t\t\t\t\tthis.initialScanRemoved = null;\n\t\t\t\t\tthis.initialScanFinished = Date.now();\n\t\t\t\t\tif (initial) {\n\t\t\t\t\t\tconst missingWatchers = new Map(this.watchers);\n\t\t\t\t\t\tmissingWatchers.delete(withoutCase(this.path));\n\t\t\t\t\t\tfor (const item of itemPaths) {\n\t\t\t\t\t\t\tmissingWatchers.delete(withoutCase(item));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (const watchers of missingWatchers.values()) {\n\t\t\t\t\t\t\tfor (const watcher of watchers) {\n\t\t\t\t\t\t\t\tif (watcher.checkStartTime(this.initialScanFinished, false)) {\n\t\t\t\t\t\t\t\t\twatcher.emit(\n\t\t\t\t\t\t\t\t\t\t\"initial-missing\",\n\t\t\t\t\t\t\t\t\t\t\"scan (missing in initial scan)\"\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this.scanAgain) {\n\t\t\t\t\t\tthis.scanAgain = false;\n\t\t\t\t\t\tthis.doScan(this.scanAgainInitial);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.scanning = false;\n\t\t\t\t\t\tthis.onScanFinished();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tfor (const itemPath of itemPaths) {\n\t\t\t\t\tfs.lstat(itemPath, (err2, stats) => {\n\t\t\t\t\t\tif (this.closed) return;\n\t\t\t\t\t\tif (err2) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\terr2.code === \"ENOENT\" ||\n\t\t\t\t\t\t\t\terr2.code === \"EPERM\" ||\n\t\t\t\t\t\t\t\terr2.code === \"EBUSY\"\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthis.setMissing(itemPath, initial, \"scan (\" + err2.code + \")\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.onScanError(err2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titemFinished();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (stats.isFile() || stats.isSymbolicLink()) {\n\t\t\t\t\t\t\tif (stats.mtime) {\n\t\t\t\t\t\t\t\tensureFsAccuracy(stats.mtime);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.setFileTime(\n\t\t\t\t\t\t\t\titemPath,\n\t\t\t\t\t\t\t\t+stats.mtime || +stats.ctime || 1,\n\t\t\t\t\t\t\t\tinitial,\n\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\t\"scan (file)\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if (stats.isDirectory()) {\n\t\t\t\t\t\t\tif (!initial || !this.directories.has(itemPath))\n\t\t\t\t\t\t\t\tthis.setDirectory(\n\t\t\t\t\t\t\t\t\titemPath,\n\t\t\t\t\t\t\t\t\t+stats.birthtime || 1,\n\t\t\t\t\t\t\t\t\tinitial,\n\t\t\t\t\t\t\t\t\t\"scan (dir)\"\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\titemFinished();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\titemFinished();\n\t\t\t});\n\t\t});\n\t}\n\n\tgetTimes() {\n\t\tconst obj = Object.create(null);\n\t\tlet safeTime = this.lastWatchEvent;\n\t\tfor (const [file, entry] of this.files) {\n\t\t\tfixupEntryAccuracy(entry);\n\t\t\tsafeTime = Math.max(safeTime, entry.safeTime);\n\t\t\tobj[file] = Math.max(entry.safeTime, entry.timestamp);\n\t\t}\n\t\tif (this.nestedWatching) {\n\t\t\tfor (const w of this.directories.values()) {\n\t\t\t\tconst times = w.directoryWatcher.getTimes();\n\t\t\t\tfor (const file of Object.keys(times)) {\n\t\t\t\t\tconst time = times[file];\n\t\t\t\t\tsafeTime = Math.max(safeTime, time);\n\t\t\t\t\tobj[file] = time;\n\t\t\t\t}\n\t\t\t}\n\t\t\tobj[this.path] = safeTime;\n\t\t}\n\t\tif (!this.initialScan) {\n\t\t\tfor (const watchers of this.watchers.values()) {\n\t\t\t\tfor (const watcher of watchers) {\n\t\t\t\t\tconst path = watcher.path;\n\t\t\t\t\tif (!Object.prototype.hasOwnProperty.call(obj, path)) {\n\t\t\t\t\t\tobj[path] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn obj;\n\t}\n\n\tgetTimeInfoEntries() {\n\t\tif (this._cachedTimeInfoEntries !== undefined)\n\t\t\treturn this._cachedTimeInfoEntries;\n\t\tconst map = new Map();\n\t\tlet safeTime = this.lastWatchEvent;\n\t\tfor (const [file, entry] of this.files) {\n\t\t\tfixupEntryAccuracy(entry);\n\t\t\tsafeTime = Math.max(safeTime, entry.safeTime);\n\t\t\tmap.set(file, entry);\n\t\t}\n\t\tif (this.nestedWatching) {\n\t\t\tfor (const w of this.directories.values()) {\n\t\t\t\tconst timeInfoEntries = w.directoryWatcher.getTimeInfoEntries();\n\t\t\t\tfor (const [file, entry] of timeInfoEntries) {\n\t\t\t\t\tif (entry) {\n\t\t\t\t\t\tsafeTime = Math.max(safeTime, entry.safeTime);\n\t\t\t\t\t}\n\t\t\t\t\tmap.set(file, entry);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmap.set(this.path, {\n\t\t\t\tsafeTime\n\t\t\t});\n\t\t} else {\n\t\t\tfor (const dir of this.directories.keys()) {\n\t\t\t\t// No additional info about this directory\n\t\t\t\tmap.set(dir, EXISTANCE_ONLY_TIME_ENTRY);\n\t\t\t}\n\t\t\tmap.set(this.path, EXISTANCE_ONLY_TIME_ENTRY);\n\t\t}\n\t\tif (!this.initialScan) {\n\t\t\tfor (const watchers of this.watchers.values()) {\n\t\t\t\tfor (const watcher of watchers) {\n\t\t\t\t\tconst path = watcher.path;\n\t\t\t\t\tif (!map.has(path)) {\n\t\t\t\t\t\tmap.set(path, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._cachedTimeInfoEntries = map;\n\t\t}\n\t\treturn map;\n\t}\n\n\tclose() {\n\t\tthis.closed = true;\n\t\tthis.initialScan = false;\n\t\tif (this.watcher) {\n\t\t\tthis.watcher.close();\n\t\t\tthis.watcher = null;\n\t\t}\n\t\tif (this.nestedWatching) {\n\t\t\tfor (const w of this.directories.values()) {\n\t\t\t\tw.close();\n\t\t\t}\n\t\t\tthis.directories.clear();\n\t\t}\n\t\tif (this.parentWatcher) {\n\t\t\tthis.parentWatcher.close();\n\t\t\tthis.parentWatcher = null;\n\t\t}\n\t\tthis.emit(\"closed\");\n\t}\n}\n\nmodule.exports = DirectoryWatcher;\nmodule.exports.EXISTANCE_ONLY_TIME_ENTRY = EXISTANCE_ONLY_TIME_ENTRY;\n\nfunction fixupEntryAccuracy(entry) {\n\tif (entry.accuracy > FS_ACCURACY) {\n\t\tentry.safeTime = entry.safeTime - entry.accuracy + FS_ACCURACY;\n\t\tentry.accuracy = FS_ACCURACY;\n\t}\n}\n\nfunction ensureFsAccuracy(mtime) {\n\tif (!mtime) return;\n\tif (FS_ACCURACY > 1 && mtime % 1 !== 0) FS_ACCURACY = 1;\n\telse if (FS_ACCURACY > 10 && mtime % 10 !== 0) FS_ACCURACY = 10;\n\telse if (FS_ACCURACY > 100 && mtime % 100 !== 0) FS_ACCURACY = 100;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2F0Y2hwYWNrL2xpYi9EaXJlY3RvcnlXYXRjaGVyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRWIscUJBQXFCLGlGQUE4QjtBQUNuRCxXQUFXLG1CQUFPLENBQUMsOERBQWE7QUFDaEMsYUFBYSxtQkFBTyxDQUFDLG1JQUFNOztBQUUzQix5QkFBeUIsbUJBQU8sQ0FBQyw0RUFBb0I7O0FBRXJELGtEQUFrRDs7QUFFbEQ7O0FBRUEsZUFBZSwwSUFBc0I7QUFDckM7QUFDQTtBQUNBLElBQUksbUJBQW1CO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxjQUFjLHVDQUF1QztBQUNsRTtBQUNBLGFBQWEscUJBQXFCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkJBQTJCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLE9BQU87QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNvbW0tbGV2aXR5Ly4vbm9kZV9tb2R1bGVzL3dhdGNocGFjay9saWIvRGlyZWN0b3J5V2F0Y2hlci5qcz9jNDMzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50c1wiKS5FdmVudEVtaXR0ZXI7XG5jb25zdCBmcyA9IHJlcXVpcmUoXCJncmFjZWZ1bC1mc1wiKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcblxuY29uc3Qgd2F0Y2hFdmVudFNvdXJjZSA9IHJlcXVpcmUoXCIuL3dhdGNoRXZlbnRTb3VyY2VcIik7XG5cbmNvbnN0IEVYSVNUQU5DRV9PTkxZX1RJTUVfRU5UUlkgPSBPYmplY3QuZnJlZXplKHt9KTtcblxubGV0IEZTX0FDQ1VSQUNZID0gMTAwMDtcblxuY29uc3QgSVNfT1NYID0gcmVxdWlyZShcIm9zXCIpLnBsYXRmb3JtKCkgPT09IFwiZGFyd2luXCI7XG5jb25zdCBXQVRDSFBBQ0tfUE9MTElORyA9IHByb2Nlc3MuZW52LldBVENIUEFDS19QT0xMSU5HO1xuY29uc3QgRk9SQ0VfUE9MTElORyA9XG5cdGAkeytXQVRDSFBBQ0tfUE9MTElOR31gID09PSBXQVRDSFBBQ0tfUE9MTElOR1xuXHRcdD8gK1dBVENIUEFDS19QT0xMSU5HXG5cdFx0OiAhIVdBVENIUEFDS19QT0xMSU5HICYmIFdBVENIUEFDS19QT0xMSU5HICE9PSBcImZhbHNlXCI7XG5cbmZ1bmN0aW9uIHdpdGhvdXRDYXNlKHN0cikge1xuXHRyZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5lZWRDYWxscyh0aW1lcywgY2FsbGJhY2spIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdGlmICgtLXRpbWVzID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gY2FsbGJhY2soKTtcblx0XHR9XG5cdH07XG59XG5cbmNsYXNzIFdhdGNoZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXHRjb25zdHJ1Y3RvcihkaXJlY3RvcnlXYXRjaGVyLCBmaWxlUGF0aCwgc3RhcnRUaW1lKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmRpcmVjdG9yeVdhdGNoZXIgPSBkaXJlY3RvcnlXYXRjaGVyO1xuXHRcdHRoaXMucGF0aCA9IGZpbGVQYXRoO1xuXHRcdHRoaXMuc3RhcnRUaW1lID0gc3RhcnRUaW1lICYmICtzdGFydFRpbWU7XG5cdFx0dGhpcy5fY2FjaGVkVGltZUluZm9FbnRyaWVzID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0Y2hlY2tTdGFydFRpbWUobXRpbWUsIGluaXRpYWwpIHtcblx0XHRjb25zdCBzdGFydFRpbWUgPSB0aGlzLnN0YXJ0VGltZTtcblx0XHRpZiAodHlwZW9mIHN0YXJ0VGltZSAhPT0gXCJudW1iZXJcIikgcmV0dXJuICFpbml0aWFsO1xuXHRcdHJldHVybiBzdGFydFRpbWUgPD0gbXRpbWU7XG5cdH1cblxuXHRjbG9zZSgpIHtcblx0XHR0aGlzLmVtaXQoXCJjbG9zZWRcIik7XG5cdH1cbn1cblxuY2xhc3MgRGlyZWN0b3J5V2F0Y2hlciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG5cdGNvbnN0cnVjdG9yKHdhdGNoZXJNYW5hZ2VyLCBkaXJlY3RvcnlQYXRoLCBvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpZiAoRk9SQ0VfUE9MTElORykge1xuXHRcdFx0b3B0aW9ucy5wb2xsID0gRk9SQ0VfUE9MTElORztcblx0XHR9XG5cdFx0dGhpcy53YXRjaGVyTWFuYWdlciA9IHdhdGNoZXJNYW5hZ2VyO1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0dGhpcy5wYXRoID0gZGlyZWN0b3J5UGF0aDtcblx0XHQvLyBzYWZlVGltZSBpcyB0aGUgcG9pbnQgaW4gdGltZSBhZnRlciB3aGljaCByZWFkaW5nIGlzIHNhZmUgdG8gYmUgdW5jaGFuZ2VkXG5cdFx0Ly8gdGltZXN0YW1wIGlzIGEgdmFsdWUgdGhhdCBzaG91bGQgYmUgY29tcGFyZWQgd2l0aCBhbm90aGVyIHRpbWVzdGFtcCAobXRpbWUpXG5cdFx0LyoqIEB0eXBlIHtNYXA8c3RyaW5nLCB7IHNhZmVUaW1lOiBudW1iZXIsIHRpbWVzdGFtcDogbnVtYmVyIH19ICovXG5cdFx0dGhpcy5maWxlcyA9IG5ldyBNYXAoKTtcblx0XHQvKiogQHR5cGUge01hcDxzdHJpbmcsIG51bWJlcj59ICovXG5cdFx0dGhpcy5maWxlc1dpdGhvdXRDYXNlID0gbmV3IE1hcCgpO1xuXHRcdHRoaXMuZGlyZWN0b3JpZXMgPSBuZXcgTWFwKCk7XG5cdFx0dGhpcy5sYXN0V2F0Y2hFdmVudCA9IDA7XG5cdFx0dGhpcy5pbml0aWFsU2NhbiA9IHRydWU7XG5cdFx0dGhpcy5pZ25vcmVkID0gb3B0aW9ucy5pZ25vcmVkO1xuXHRcdHRoaXMubmVzdGVkV2F0Y2hpbmcgPSBmYWxzZTtcblx0XHR0aGlzLnBvbGxlZFdhdGNoaW5nID1cblx0XHRcdHR5cGVvZiBvcHRpb25zLnBvbGwgPT09IFwibnVtYmVyXCJcblx0XHRcdFx0PyBvcHRpb25zLnBvbGxcblx0XHRcdFx0OiBvcHRpb25zLnBvbGxcblx0XHRcdFx0PyA1MDA3XG5cdFx0XHRcdDogZmFsc2U7XG5cdFx0dGhpcy50aW1lb3V0ID0gdW5kZWZpbmVkO1xuXHRcdHRoaXMuaW5pdGlhbFNjYW5SZW1vdmVkID0gbmV3IFNldCgpO1xuXHRcdHRoaXMuaW5pdGlhbFNjYW5GaW5pc2hlZCA9IHVuZGVmaW5lZDtcblx0XHQvKiogQHR5cGUge01hcDxzdHJpbmcsIFNldDxXYXRjaGVyPj59ICovXG5cdFx0dGhpcy53YXRjaGVycyA9IG5ldyBNYXAoKTtcblx0XHR0aGlzLnBhcmVudFdhdGNoZXIgPSBudWxsO1xuXHRcdHRoaXMucmVmcyA9IDA7XG5cdFx0dGhpcy5fYWN0aXZlRXZlbnRzID0gbmV3IE1hcCgpO1xuXHRcdHRoaXMuY2xvc2VkID0gZmFsc2U7XG5cdFx0dGhpcy5zY2FubmluZyA9IGZhbHNlO1xuXHRcdHRoaXMuc2NhbkFnYWluID0gZmFsc2U7XG5cdFx0dGhpcy5zY2FuQWdhaW5Jbml0aWFsID0gZmFsc2U7XG5cblx0XHR0aGlzLmNyZWF0ZVdhdGNoZXIoKTtcblx0XHR0aGlzLmRvU2Nhbih0cnVlKTtcblx0fVxuXG5cdGNoZWNrSWdub3JlKHBhdGgpIHtcblx0XHRpZiAoIXRoaXMuaWdub3JlZCkgcmV0dXJuIGZhbHNlO1xuXHRcdHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcXFwvZywgXCIvXCIpO1xuXHRcdHJldHVybiB0aGlzLmlnbm9yZWQudGVzdChwYXRoKTtcblx0fVxuXG5cdGNyZWF0ZVdhdGNoZXIoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0aGlzLnBvbGxlZFdhdGNoaW5nKSB7XG5cdFx0XHRcdHRoaXMud2F0Y2hlciA9IHtcblx0XHRcdFx0XHRjbG9zZTogKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMudGltZW91dCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblx0XHRcdFx0XHRcdFx0dGhpcy50aW1lb3V0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChJU19PU1gpIHtcblx0XHRcdFx0XHR0aGlzLndhdGNoSW5QYXJlbnREaXJlY3RvcnkoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLndhdGNoZXIgPSB3YXRjaEV2ZW50U291cmNlLndhdGNoKHRoaXMucGF0aCk7XG5cdFx0XHRcdHRoaXMud2F0Y2hlci5vbihcImNoYW5nZVwiLCB0aGlzLm9uV2F0Y2hFdmVudC5iaW5kKHRoaXMpKTtcblx0XHRcdFx0dGhpcy53YXRjaGVyLm9uKFwiZXJyb3JcIiwgdGhpcy5vbldhdGNoZXJFcnJvci5iaW5kKHRoaXMpKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMub25XYXRjaGVyRXJyb3IoZXJyKTtcblx0XHR9XG5cdH1cblxuXHRmb3JFYWNoV2F0Y2hlcihwYXRoLCBmbikge1xuXHRcdGNvbnN0IHdhdGNoZXJzID0gdGhpcy53YXRjaGVycy5nZXQod2l0aG91dENhc2UocGF0aCkpO1xuXHRcdGlmICh3YXRjaGVycyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRmb3IgKGNvbnN0IHcgb2Ygd2F0Y2hlcnMpIHtcblx0XHRcdFx0Zm4odyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c2V0TWlzc2luZyhpdGVtUGF0aCwgaW5pdGlhbCwgdHlwZSkge1xuXHRcdHRoaXMuX2NhY2hlZFRpbWVJbmZvRW50cmllcyA9IHVuZGVmaW5lZDtcblxuXHRcdGlmICh0aGlzLmluaXRpYWxTY2FuKSB7XG5cdFx0XHR0aGlzLmluaXRpYWxTY2FuUmVtb3ZlZC5hZGQoaXRlbVBhdGgpO1xuXHRcdH1cblxuXHRcdGNvbnN0IG9sZERpcmVjdG9yeSA9IHRoaXMuZGlyZWN0b3JpZXMuZ2V0KGl0ZW1QYXRoKTtcblx0XHRpZiAob2xkRGlyZWN0b3J5KSB7XG5cdFx0XHRpZiAodGhpcy5uZXN0ZWRXYXRjaGluZykgb2xkRGlyZWN0b3J5LmNsb3NlKCk7XG5cdFx0XHR0aGlzLmRpcmVjdG9yaWVzLmRlbGV0ZShpdGVtUGF0aCk7XG5cblx0XHRcdHRoaXMuZm9yRWFjaFdhdGNoZXIoaXRlbVBhdGgsIHcgPT4gdy5lbWl0KFwicmVtb3ZlXCIsIHR5cGUpKTtcblx0XHRcdGlmICghaW5pdGlhbCkge1xuXHRcdFx0XHR0aGlzLmZvckVhY2hXYXRjaGVyKHRoaXMucGF0aCwgdyA9PlxuXHRcdFx0XHRcdHcuZW1pdChcImNoYW5nZVwiLCBpdGVtUGF0aCwgbnVsbCwgdHlwZSwgaW5pdGlhbClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBvbGRGaWxlID0gdGhpcy5maWxlcy5nZXQoaXRlbVBhdGgpO1xuXHRcdGlmIChvbGRGaWxlKSB7XG5cdFx0XHR0aGlzLmZpbGVzLmRlbGV0ZShpdGVtUGF0aCk7XG5cdFx0XHRjb25zdCBrZXkgPSB3aXRob3V0Q2FzZShpdGVtUGF0aCk7XG5cdFx0XHRjb25zdCBjb3VudCA9IHRoaXMuZmlsZXNXaXRob3V0Q2FzZS5nZXQoa2V5KSAtIDE7XG5cdFx0XHRpZiAoY291bnQgPD0gMCkge1xuXHRcdFx0XHR0aGlzLmZpbGVzV2l0aG91dENhc2UuZGVsZXRlKGtleSk7XG5cdFx0XHRcdHRoaXMuZm9yRWFjaFdhdGNoZXIoaXRlbVBhdGgsIHcgPT4gdy5lbWl0KFwicmVtb3ZlXCIsIHR5cGUpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZmlsZXNXaXRob3V0Q2FzZS5zZXQoa2V5LCBjb3VudCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghaW5pdGlhbCkge1xuXHRcdFx0XHR0aGlzLmZvckVhY2hXYXRjaGVyKHRoaXMucGF0aCwgdyA9PlxuXHRcdFx0XHRcdHcuZW1pdChcImNoYW5nZVwiLCBpdGVtUGF0aCwgbnVsbCwgdHlwZSwgaW5pdGlhbClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRzZXRGaWxlVGltZShmaWxlUGF0aCwgbXRpbWUsIGluaXRpYWwsIGlnbm9yZVdoZW5FcXVhbCwgdHlwZSkge1xuXHRcdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cblx0XHRpZiAodGhpcy5jaGVja0lnbm9yZShmaWxlUGF0aCkpIHJldHVybjtcblxuXHRcdGNvbnN0IG9sZCA9IHRoaXMuZmlsZXMuZ2V0KGZpbGVQYXRoKTtcblxuXHRcdGxldCBzYWZlVGltZSwgYWNjdXJhY3k7XG5cdFx0aWYgKGluaXRpYWwpIHtcblx0XHRcdHNhZmVUaW1lID0gTWF0aC5taW4obm93LCBtdGltZSkgKyBGU19BQ0NVUkFDWTtcblx0XHRcdGFjY3VyYWN5ID0gRlNfQUNDVVJBQ1k7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNhZmVUaW1lID0gbm93O1xuXHRcdFx0YWNjdXJhY3kgPSAwO1xuXG5cdFx0XHRpZiAob2xkICYmIG9sZC50aW1lc3RhbXAgPT09IG10aW1lICYmIG10aW1lICsgRlNfQUNDVVJBQ1kgPCBub3cgLSAxMDAwKSB7XG5cdFx0XHRcdC8vIFdlIGFyZSBzdXJlIHRoYXQgbXRpbWUgaXMgdW50b3VjaGVkXG5cdFx0XHRcdC8vIFRoaXMgY2FuIGJlIGNhdXNlZCBieSBzb21lIGZpbGUgYXR0cmlidXRlIGNoYW5nZVxuXHRcdFx0XHQvLyBlLiBnLiB3aGVuIGFjY2VzcyB0aW1lIGhhcyBiZWVuIGNoYW5nZWRcblx0XHRcdFx0Ly8gYnV0IHRoZSBmaWxlIGNvbnRlbnQgaXMgdW50b3VjaGVkXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoaWdub3JlV2hlbkVxdWFsICYmIG9sZCAmJiBvbGQudGltZXN0YW1wID09PSBtdGltZSkgcmV0dXJuO1xuXG5cdFx0dGhpcy5maWxlcy5zZXQoZmlsZVBhdGgsIHtcblx0XHRcdHNhZmVUaW1lLFxuXHRcdFx0YWNjdXJhY3ksXG5cdFx0XHR0aW1lc3RhbXA6IG10aW1lXG5cdFx0fSk7XG5cdFx0dGhpcy5fY2FjaGVkVGltZUluZm9FbnRyaWVzID0gdW5kZWZpbmVkO1xuXG5cdFx0aWYgKCFvbGQpIHtcblx0XHRcdGNvbnN0IGtleSA9IHdpdGhvdXRDYXNlKGZpbGVQYXRoKTtcblx0XHRcdGNvbnN0IGNvdW50ID0gdGhpcy5maWxlc1dpdGhvdXRDYXNlLmdldChrZXkpO1xuXHRcdFx0dGhpcy5maWxlc1dpdGhvdXRDYXNlLnNldChrZXksIChjb3VudCB8fCAwKSArIDEpO1xuXHRcdFx0aWYgKGNvdW50ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gVGhlcmUgaXMgYWxyZWFkeSBhIGZpbGUgd2l0aCBjYXNlLWluc2Vuc2l0aXZlLWVxdWFsIG5hbWVcblx0XHRcdFx0Ly8gT24gYSBjYXNlLWluc2Vuc2l0aXZlIGZpbGVzeXN0ZW0gd2UgbWF5IG1pc3MgdGhlIHJlbmFtaW5nXG5cdFx0XHRcdC8vIHdoZW4gb25seSBjYXNpbmcgaXMgY2hhbmdlZC5cblx0XHRcdFx0Ly8gVG8gYmUgc3VyZSB0aGF0IG91ciBpbmZvcm1hdGlvbiBpcyBjb3JyZWN0XG5cdFx0XHRcdC8vIHdlIHRyaWdnZXIgYSByZXNjYW4gaGVyZVxuXHRcdFx0XHR0aGlzLmRvU2NhbihmYWxzZSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZm9yRWFjaFdhdGNoZXIoZmlsZVBhdGgsIHcgPT4ge1xuXHRcdFx0XHRpZiAoIWluaXRpYWwgfHwgdy5jaGVja1N0YXJ0VGltZShzYWZlVGltZSwgaW5pdGlhbCkpIHtcblx0XHRcdFx0XHR3LmVtaXQoXCJjaGFuZ2VcIiwgbXRpbWUsIHR5cGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKCFpbml0aWFsKSB7XG5cdFx0XHR0aGlzLmZvckVhY2hXYXRjaGVyKGZpbGVQYXRoLCB3ID0+IHcuZW1pdChcImNoYW5nZVwiLCBtdGltZSwgdHlwZSkpO1xuXHRcdH1cblx0XHR0aGlzLmZvckVhY2hXYXRjaGVyKHRoaXMucGF0aCwgdyA9PiB7XG5cdFx0XHRpZiAoIWluaXRpYWwgfHwgdy5jaGVja1N0YXJ0VGltZShzYWZlVGltZSwgaW5pdGlhbCkpIHtcblx0XHRcdFx0dy5lbWl0KFwiY2hhbmdlXCIsIGZpbGVQYXRoLCBzYWZlVGltZSwgdHlwZSwgaW5pdGlhbCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRzZXREaXJlY3RvcnkoZGlyZWN0b3J5UGF0aCwgYmlydGh0aW1lLCBpbml0aWFsLCB0eXBlKSB7XG5cdFx0aWYgKHRoaXMuY2hlY2tJZ25vcmUoZGlyZWN0b3J5UGF0aCkpIHJldHVybjtcblx0XHRpZiAoZGlyZWN0b3J5UGF0aCA9PT0gdGhpcy5wYXRoKSB7XG5cdFx0XHRpZiAoIWluaXRpYWwpIHtcblx0XHRcdFx0dGhpcy5mb3JFYWNoV2F0Y2hlcih0aGlzLnBhdGgsIHcgPT5cblx0XHRcdFx0XHR3LmVtaXQoXCJjaGFuZ2VcIiwgZGlyZWN0b3J5UGF0aCwgYmlydGh0aW1lLCB0eXBlLCBpbml0aWFsKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBvbGQgPSB0aGlzLmRpcmVjdG9yaWVzLmdldChkaXJlY3RvcnlQYXRoKTtcblx0XHRcdGlmICghb2xkKSB7XG5cdFx0XHRcdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cblx0XHRcdFx0dGhpcy5fY2FjaGVkVGltZUluZm9FbnRyaWVzID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRpZiAodGhpcy5uZXN0ZWRXYXRjaGluZykge1xuXHRcdFx0XHRcdHRoaXMuY3JlYXRlTmVzdGVkV2F0Y2hlcihkaXJlY3RvcnlQYXRoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmRpcmVjdG9yaWVzLnNldChkaXJlY3RvcnlQYXRoLCB0cnVlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxldCBzYWZlVGltZTtcblx0XHRcdFx0aWYgKGluaXRpYWwpIHtcblx0XHRcdFx0XHRzYWZlVGltZSA9IE1hdGgubWluKG5vdywgYmlydGh0aW1lKSArIEZTX0FDQ1VSQUNZO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNhZmVUaW1lID0gbm93O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5mb3JFYWNoV2F0Y2hlcihkaXJlY3RvcnlQYXRoLCB3ID0+IHtcblx0XHRcdFx0XHRpZiAoIWluaXRpYWwgfHwgdy5jaGVja1N0YXJ0VGltZShzYWZlVGltZSwgZmFsc2UpKSB7XG5cdFx0XHRcdFx0XHR3LmVtaXQoXCJjaGFuZ2VcIiwgYmlydGh0aW1lLCB0eXBlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR0aGlzLmZvckVhY2hXYXRjaGVyKHRoaXMucGF0aCwgdyA9PiB7XG5cdFx0XHRcdFx0aWYgKCFpbml0aWFsIHx8IHcuY2hlY2tTdGFydFRpbWUoc2FmZVRpbWUsIGluaXRpYWwpKSB7XG5cdFx0XHRcdFx0XHR3LmVtaXQoXCJjaGFuZ2VcIiwgZGlyZWN0b3J5UGF0aCwgc2FmZVRpbWUsIHR5cGUsIGluaXRpYWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y3JlYXRlTmVzdGVkV2F0Y2hlcihkaXJlY3RvcnlQYXRoKSB7XG5cdFx0Y29uc3Qgd2F0Y2hlciA9IHRoaXMud2F0Y2hlck1hbmFnZXIud2F0Y2hEaXJlY3RvcnkoZGlyZWN0b3J5UGF0aCwgMSk7XG5cdFx0d2F0Y2hlci5vbihcImNoYW5nZVwiLCAoZmlsZVBhdGgsIG10aW1lLCB0eXBlLCBpbml0aWFsKSA9PiB7XG5cdFx0XHR0aGlzLl9jYWNoZWRUaW1lSW5mb0VudHJpZXMgPSB1bmRlZmluZWQ7XG5cdFx0XHR0aGlzLmZvckVhY2hXYXRjaGVyKHRoaXMucGF0aCwgdyA9PiB7XG5cdFx0XHRcdGlmICghaW5pdGlhbCB8fCB3LmNoZWNrU3RhcnRUaW1lKG10aW1lLCBpbml0aWFsKSkge1xuXHRcdFx0XHRcdHcuZW1pdChcImNoYW5nZVwiLCBmaWxlUGF0aCwgbXRpbWUsIHR5cGUsIGluaXRpYWwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHR0aGlzLmRpcmVjdG9yaWVzLnNldChkaXJlY3RvcnlQYXRoLCB3YXRjaGVyKTtcblx0fVxuXG5cdHNldE5lc3RlZFdhdGNoaW5nKGZsYWcpIHtcblx0XHRpZiAodGhpcy5uZXN0ZWRXYXRjaGluZyAhPT0gISFmbGFnKSB7XG5cdFx0XHR0aGlzLm5lc3RlZFdhdGNoaW5nID0gISFmbGFnO1xuXHRcdFx0dGhpcy5fY2FjaGVkVGltZUluZm9FbnRyaWVzID0gdW5kZWZpbmVkO1xuXHRcdFx0aWYgKHRoaXMubmVzdGVkV2F0Y2hpbmcpIHtcblx0XHRcdFx0Zm9yIChjb25zdCBkaXJlY3Rvcnkgb2YgdGhpcy5kaXJlY3Rvcmllcy5rZXlzKCkpIHtcblx0XHRcdFx0XHR0aGlzLmNyZWF0ZU5lc3RlZFdhdGNoZXIoZGlyZWN0b3J5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yIChjb25zdCBbZGlyZWN0b3J5LCB3YXRjaGVyXSBvZiB0aGlzLmRpcmVjdG9yaWVzKSB7XG5cdFx0XHRcdFx0d2F0Y2hlci5jbG9zZSgpO1xuXHRcdFx0XHRcdHRoaXMuZGlyZWN0b3JpZXMuc2V0KGRpcmVjdG9yeSwgdHJ1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR3YXRjaChmaWxlUGF0aCwgc3RhcnRUaW1lKSB7XG5cdFx0Y29uc3Qga2V5ID0gd2l0aG91dENhc2UoZmlsZVBhdGgpO1xuXHRcdGxldCB3YXRjaGVycyA9IHRoaXMud2F0Y2hlcnMuZ2V0KGtleSk7XG5cdFx0aWYgKHdhdGNoZXJzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHdhdGNoZXJzID0gbmV3IFNldCgpO1xuXHRcdFx0dGhpcy53YXRjaGVycy5zZXQoa2V5LCB3YXRjaGVycyk7XG5cdFx0fVxuXHRcdHRoaXMucmVmcysrO1xuXHRcdGNvbnN0IHdhdGNoZXIgPSBuZXcgV2F0Y2hlcih0aGlzLCBmaWxlUGF0aCwgc3RhcnRUaW1lKTtcblx0XHR3YXRjaGVyLm9uKFwiY2xvc2VkXCIsICgpID0+IHtcblx0XHRcdGlmICgtLXRoaXMucmVmcyA8PSAwKSB7XG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0d2F0Y2hlcnMuZGVsZXRlKHdhdGNoZXIpO1xuXHRcdFx0aWYgKHdhdGNoZXJzLnNpemUgPT09IDApIHtcblx0XHRcdFx0dGhpcy53YXRjaGVycy5kZWxldGUoa2V5KTtcblx0XHRcdFx0aWYgKHRoaXMucGF0aCA9PT0gZmlsZVBhdGgpIHRoaXMuc2V0TmVzdGVkV2F0Y2hpbmcoZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHdhdGNoZXJzLmFkZCh3YXRjaGVyKTtcblx0XHRsZXQgc2FmZVRpbWU7XG5cdFx0aWYgKGZpbGVQYXRoID09PSB0aGlzLnBhdGgpIHtcblx0XHRcdHRoaXMuc2V0TmVzdGVkV2F0Y2hpbmcodHJ1ZSk7XG5cdFx0XHRzYWZlVGltZSA9IHRoaXMubGFzdFdhdGNoRXZlbnQ7XG5cdFx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMuZmlsZXMudmFsdWVzKCkpIHtcblx0XHRcdFx0Zml4dXBFbnRyeUFjY3VyYWN5KGVudHJ5KTtcblx0XHRcdFx0c2FmZVRpbWUgPSBNYXRoLm1heChzYWZlVGltZSwgZW50cnkuc2FmZVRpbWUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBlbnRyeSA9IHRoaXMuZmlsZXMuZ2V0KGZpbGVQYXRoKTtcblx0XHRcdGlmIChlbnRyeSkge1xuXHRcdFx0XHRmaXh1cEVudHJ5QWNjdXJhY3koZW50cnkpO1xuXHRcdFx0XHRzYWZlVGltZSA9IGVudHJ5LnNhZmVUaW1lO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2FmZVRpbWUgPSAwO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoc2FmZVRpbWUpIHtcblx0XHRcdGlmIChzYWZlVGltZSA+PSBzdGFydFRpbWUpIHtcblx0XHRcdFx0cHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuY2xvc2VkKSByZXR1cm47XG5cdFx0XHRcdFx0aWYgKGZpbGVQYXRoID09PSB0aGlzLnBhdGgpIHtcblx0XHRcdFx0XHRcdHdhdGNoZXIuZW1pdChcblx0XHRcdFx0XHRcdFx0XCJjaGFuZ2VcIixcblx0XHRcdFx0XHRcdFx0ZmlsZVBhdGgsXG5cdFx0XHRcdFx0XHRcdHNhZmVUaW1lLFxuXHRcdFx0XHRcdFx0XHRcIndhdGNoIChvdXRkYXRlZCBvbiBhdHRhY2gpXCIsXG5cdFx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHdhdGNoZXIuZW1pdChcblx0XHRcdFx0XHRcdFx0XCJjaGFuZ2VcIixcblx0XHRcdFx0XHRcdFx0c2FmZVRpbWUsXG5cdFx0XHRcdFx0XHRcdFwid2F0Y2ggKG91dGRhdGVkIG9uIGF0dGFjaClcIixcblx0XHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodGhpcy5pbml0aWFsU2Nhbikge1xuXHRcdFx0aWYgKHRoaXMuaW5pdGlhbFNjYW5SZW1vdmVkLmhhcyhmaWxlUGF0aCkpIHtcblx0XHRcdFx0cHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuY2xvc2VkKSByZXR1cm47XG5cdFx0XHRcdFx0d2F0Y2hlci5lbWl0KFwicmVtb3ZlXCIpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0IXRoaXMuZGlyZWN0b3JpZXMuaGFzKGZpbGVQYXRoKSAmJlxuXHRcdFx0d2F0Y2hlci5jaGVja1N0YXJ0VGltZSh0aGlzLmluaXRpYWxTY2FuRmluaXNoZWQsIGZhbHNlKVxuXHRcdCkge1xuXHRcdFx0cHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG5cdFx0XHRcdGlmICh0aGlzLmNsb3NlZCkgcmV0dXJuO1xuXHRcdFx0XHR3YXRjaGVyLmVtaXQoXCJpbml0aWFsLW1pc3NpbmdcIiwgXCJ3YXRjaCAobWlzc2luZyBvbiBhdHRhY2gpXCIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHJldHVybiB3YXRjaGVyO1xuXHR9XG5cblx0b25XYXRjaEV2ZW50KGV2ZW50VHlwZSwgZmlsZW5hbWUpIHtcblx0XHRpZiAodGhpcy5jbG9zZWQpIHJldHVybjtcblx0XHRpZiAoIWZpbGVuYW1lKSB7XG5cdFx0XHQvLyBJbiBzb21lIGNhc2VzIG5vIGZpbGVuYW1lIGlzIHByb3ZpZGVkXG5cdFx0XHQvLyBUaGlzIHNlZW0gdG8gaGFwcGVuIG9uIHdpbmRvd3Ncblx0XHRcdC8vIFNvIHNvbWUgZXZlbnQgaGFwcGVuZWQgYnV0IHdlIGRvbid0IGtub3cgd2hpY2ggZmlsZSBpcyBhZmZlY3RlZFxuXHRcdFx0Ly8gV2UgaGF2ZSB0byBkbyBhIGZ1bGwgc2NhbiBvZiB0aGUgZGlyZWN0b3J5XG5cdFx0XHR0aGlzLmRvU2NhbihmYWxzZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4odGhpcy5wYXRoLCBmaWxlbmFtZSk7XG5cdFx0aWYgKHRoaXMuY2hlY2tJZ25vcmUoZmlsZVBhdGgpKSByZXR1cm47XG5cblx0XHRpZiAodGhpcy5fYWN0aXZlRXZlbnRzLmdldChmaWxlbmFtZSkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhpcy5fYWN0aXZlRXZlbnRzLnNldChmaWxlbmFtZSwgZmFsc2UpO1xuXHRcdFx0Y29uc3QgY2hlY2tTdGF0cyA9ICgpID0+IHtcblx0XHRcdFx0aWYgKHRoaXMuY2xvc2VkKSByZXR1cm47XG5cdFx0XHRcdHRoaXMuX2FjdGl2ZUV2ZW50cy5zZXQoZmlsZW5hbWUsIGZhbHNlKTtcblx0XHRcdFx0ZnMubHN0YXQoZmlsZVBhdGgsIChlcnIsIHN0YXRzKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuY2xvc2VkKSByZXR1cm47XG5cdFx0XHRcdFx0aWYgKHRoaXMuX2FjdGl2ZUV2ZW50cy5nZXQoZmlsZW5hbWUpID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRwcm9jZXNzLm5leHRUaWNrKGNoZWNrU3RhdHMpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLl9hY3RpdmVFdmVudHMuZGVsZXRlKGZpbGVuYW1lKTtcblx0XHRcdFx0XHQvLyBFTk9FTlQgaGFwcGVucyB3aGVuIHRoZSBmaWxlL2RpcmVjdG9yeSBkb2Vzbid0IGV4aXN0XG5cdFx0XHRcdFx0Ly8gRVBFUk0gaGFwcGVucyB3aGVuIHRoZSBjb250YWluaW5nIGRpcmVjdG9yeSBkb2Vzbid0IGV4aXN0XG5cdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0XHRlcnIuY29kZSAhPT0gXCJFTk9FTlRcIiAmJlxuXHRcdFx0XHRcdFx0XHRlcnIuY29kZSAhPT0gXCJFUEVSTVwiICYmXG5cdFx0XHRcdFx0XHRcdGVyci5jb2RlICE9PSBcIkVCVVNZXCJcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLm9uU3RhdHNFcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0aWYgKGZpbGVuYW1lID09PSBwYXRoLmJhc2VuYW1lKHRoaXMucGF0aCkpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBUaGlzIG1heSBpbmRpY2F0ZSB0aGF0IHRoZSBkaXJlY3RvcnkgaXRzZWxmIHdhcyByZW1vdmVkXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFmcy5leGlzdHNTeW5jKHRoaXMucGF0aCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMub25EaXJlY3RvcnlSZW1vdmVkKFwic3RhdCBmYWlsZWRcIik7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMubGFzdFdhdGNoRXZlbnQgPSBEYXRlLm5vdygpO1xuXHRcdFx0XHRcdHRoaXMuX2NhY2hlZFRpbWVJbmZvRW50cmllcyA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRpZiAoIXN0YXRzKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldE1pc3NpbmcoZmlsZVBhdGgsIGZhbHNlLCBldmVudFR5cGUpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoc3RhdHMuaXNEaXJlY3RvcnkoKSkge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXREaXJlY3RvcnkoXG5cdFx0XHRcdFx0XHRcdGZpbGVQYXRoLFxuXHRcdFx0XHRcdFx0XHQrc3RhdHMuYmlydGh0aW1lIHx8IDEsXG5cdFx0XHRcdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRldmVudFR5cGVcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChzdGF0cy5pc0ZpbGUoKSB8fCBzdGF0cy5pc1N5bWJvbGljTGluaygpKSB7XG5cdFx0XHRcdFx0XHRpZiAoc3RhdHMubXRpbWUpIHtcblx0XHRcdFx0XHRcdFx0ZW5zdXJlRnNBY2N1cmFjeShzdGF0cy5tdGltZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLnNldEZpbGVUaW1lKFxuXHRcdFx0XHRcdFx0XHRmaWxlUGF0aCxcblx0XHRcdFx0XHRcdFx0K3N0YXRzLm10aW1lIHx8ICtzdGF0cy5jdGltZSB8fCAxLFxuXHRcdFx0XHRcdFx0XHRmYWxzZSxcblx0XHRcdFx0XHRcdFx0ZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGV2ZW50VHlwZVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblx0XHRcdHByb2Nlc3MubmV4dFRpY2soY2hlY2tTdGF0cyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2FjdGl2ZUV2ZW50cy5zZXQoZmlsZW5hbWUsIHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdG9uV2F0Y2hlckVycm9yKGVycikge1xuXHRcdGlmICh0aGlzLmNsb3NlZCkgcmV0dXJuO1xuXHRcdGlmIChlcnIpIHtcblx0XHRcdGlmIChlcnIuY29kZSAhPT0gXCJFUEVSTVwiICYmIGVyci5jb2RlICE9PSBcIkVOT0VOVFwiKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoXCJXYXRjaHBhY2sgRXJyb3IgKHdhdGNoZXIpOiBcIiArIGVycik7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLm9uRGlyZWN0b3J5UmVtb3ZlZChcIndhdGNoIGVycm9yXCIpO1xuXHRcdH1cblx0fVxuXG5cdG9uU3RhdHNFcnJvcihlcnIpIHtcblx0XHRpZiAoZXJyKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiV2F0Y2hwYWNrIEVycm9yIChzdGF0cyk6IFwiICsgZXJyKTtcblx0XHR9XG5cdH1cblxuXHRvblNjYW5FcnJvcihlcnIpIHtcblx0XHRpZiAoZXJyKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiV2F0Y2hwYWNrIEVycm9yIChpbml0aWFsIHNjYW4pOiBcIiArIGVycik7XG5cdFx0fVxuXHRcdHRoaXMub25TY2FuRmluaXNoZWQoKTtcblx0fVxuXG5cdG9uU2NhbkZpbmlzaGVkKCkge1xuXHRcdGlmICh0aGlzLnBvbGxlZFdhdGNoaW5nKSB7XG5cdFx0XHR0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0aWYgKHRoaXMuY2xvc2VkKSByZXR1cm47XG5cdFx0XHRcdHRoaXMuZG9TY2FuKGZhbHNlKTtcblx0XHRcdH0sIHRoaXMucG9sbGVkV2F0Y2hpbmcpO1xuXHRcdH1cblx0fVxuXG5cdG9uRGlyZWN0b3J5UmVtb3ZlZChyZWFzb24pIHtcblx0XHRpZiAodGhpcy53YXRjaGVyKSB7XG5cdFx0XHR0aGlzLndhdGNoZXIuY2xvc2UoKTtcblx0XHRcdHRoaXMud2F0Y2hlciA9IG51bGw7XG5cdFx0fVxuXHRcdHRoaXMud2F0Y2hJblBhcmVudERpcmVjdG9yeSgpO1xuXHRcdGNvbnN0IHR5cGUgPSBgZGlyZWN0b3J5LXJlbW92ZWQgKCR7cmVhc29ufSlgO1xuXHRcdGZvciAoY29uc3QgZGlyZWN0b3J5IG9mIHRoaXMuZGlyZWN0b3JpZXMua2V5cygpKSB7XG5cdFx0XHR0aGlzLnNldE1pc3NpbmcoZGlyZWN0b3J5LCBudWxsLCB0eXBlKTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCBmaWxlIG9mIHRoaXMuZmlsZXMua2V5cygpKSB7XG5cdFx0XHR0aGlzLnNldE1pc3NpbmcoZmlsZSwgbnVsbCwgdHlwZSk7XG5cdFx0fVxuXHR9XG5cblx0d2F0Y2hJblBhcmVudERpcmVjdG9yeSgpIHtcblx0XHRpZiAoIXRoaXMucGFyZW50V2F0Y2hlcikge1xuXHRcdFx0Y29uc3QgcGFyZW50RGlyID0gcGF0aC5kaXJuYW1lKHRoaXMucGF0aCk7XG5cdFx0XHQvLyBhdm9pZCB3YXRjaGluZyBpbiB0aGUgcm9vdCBkaXJlY3Rvcnlcblx0XHRcdC8vIHJlbW92aW5nIGRpcmVjdG9yaWVzIGluIHRoZSByb290IGRpcmVjdG9yeSBpcyBub3Qgc3VwcG9ydGVkXG5cdFx0XHRpZiAocGF0aC5kaXJuYW1lKHBhcmVudERpcikgPT09IHBhcmVudERpcikgcmV0dXJuO1xuXG5cdFx0XHR0aGlzLnBhcmVudFdhdGNoZXIgPSB0aGlzLndhdGNoZXJNYW5hZ2VyLndhdGNoRmlsZSh0aGlzLnBhdGgsIDEpO1xuXHRcdFx0dGhpcy5wYXJlbnRXYXRjaGVyLm9uKFwiY2hhbmdlXCIsIChtdGltZSwgdHlwZSkgPT4ge1xuXHRcdFx0XHRpZiAodGhpcy5jbG9zZWQpIHJldHVybjtcblxuXHRcdFx0XHQvLyBPbiBub24tb3N4IHBsYXRmb3JtcyB3ZSBkb24ndCBuZWVkIHRoaXMgd2F0Y2hlciB0byBkZXRlY3Rcblx0XHRcdFx0Ly8gZGlyZWN0b3J5IHJlbW92YWwsIGFzIGFuIEVQRVJNIGVycm9yIGluZGljYXRlcyB0aGF0XG5cdFx0XHRcdGlmICgoIUlTX09TWCB8fCB0aGlzLnBvbGxlZFdhdGNoaW5nKSAmJiB0aGlzLnBhcmVudFdhdGNoZXIpIHtcblx0XHRcdFx0XHR0aGlzLnBhcmVudFdhdGNoZXIuY2xvc2UoKTtcblx0XHRcdFx0XHR0aGlzLnBhcmVudFdhdGNoZXIgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIFRyeSB0byBjcmVhdGUgdGhlIHdhdGNoZXIgd2hlbiBwYXJlbnQgZGlyZWN0b3J5IGlzIGZvdW5kXG5cdFx0XHRcdGlmICghdGhpcy53YXRjaGVyKSB7XG5cdFx0XHRcdFx0dGhpcy5jcmVhdGVXYXRjaGVyKCk7XG5cdFx0XHRcdFx0dGhpcy5kb1NjYW4oZmFsc2UpO1xuXG5cdFx0XHRcdFx0Ly8gZGlyZWN0b3J5IHdhcyBjcmVhdGVkIHNvIHdlIGVtaXQgYW4gZXZlbnRcblx0XHRcdFx0XHR0aGlzLmZvckVhY2hXYXRjaGVyKHRoaXMucGF0aCwgdyA9PlxuXHRcdFx0XHRcdFx0dy5lbWl0KFwiY2hhbmdlXCIsIHRoaXMucGF0aCwgbXRpbWUsIHR5cGUsIGZhbHNlKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5wYXJlbnRXYXRjaGVyLm9uKFwicmVtb3ZlXCIsICgpID0+IHtcblx0XHRcdFx0dGhpcy5vbkRpcmVjdG9yeVJlbW92ZWQoXCJwYXJlbnQgZGlyZWN0b3J5IHJlbW92ZWRcIik7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRkb1NjYW4oaW5pdGlhbCkge1xuXHRcdGlmICh0aGlzLnNjYW5uaW5nKSB7XG5cdFx0XHRpZiAodGhpcy5zY2FuQWdhaW4pIHtcblx0XHRcdFx0aWYgKCFpbml0aWFsKSB0aGlzLnNjYW5BZ2FpbkluaXRpYWwgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuc2NhbkFnYWluID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5zY2FuQWdhaW5Jbml0aWFsID0gaW5pdGlhbDtcblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5zY2FubmluZyA9IHRydWU7XG5cdFx0aWYgKHRoaXMudGltZW91dCkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cdFx0XHR0aGlzLnRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMuY2xvc2VkKSByZXR1cm47XG5cdFx0XHRmcy5yZWFkZGlyKHRoaXMucGF0aCwgKGVyciwgaXRlbXMpID0+IHtcblx0XHRcdFx0aWYgKHRoaXMuY2xvc2VkKSByZXR1cm47XG5cdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRpZiAoZXJyLmNvZGUgPT09IFwiRU5PRU5UXCIgfHwgZXJyLmNvZGUgPT09IFwiRVBFUk1cIikge1xuXHRcdFx0XHRcdFx0dGhpcy5vbkRpcmVjdG9yeVJlbW92ZWQoXCJzY2FuIHJlYWRkaXIgZmFpbGVkXCIpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLm9uU2NhbkVycm9yKGVycik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuaW5pdGlhbFNjYW4gPSBmYWxzZTtcblx0XHRcdFx0XHR0aGlzLmluaXRpYWxTY2FuRmluaXNoZWQgPSBEYXRlLm5vdygpO1xuXHRcdFx0XHRcdGlmIChpbml0aWFsKSB7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHdhdGNoZXJzIG9mIHRoaXMud2F0Y2hlcnMudmFsdWVzKCkpIHtcblx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCB3YXRjaGVyIG9mIHdhdGNoZXJzKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHdhdGNoZXIuY2hlY2tTdGFydFRpbWUodGhpcy5pbml0aWFsU2NhbkZpbmlzaGVkLCBmYWxzZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHdhdGNoZXIuZW1pdChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCJpbml0aWFsLW1pc3NpbmdcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCJzY2FuIChwYXJlbnQgZGlyZWN0b3J5IG1pc3NpbmcgaW4gaW5pdGlhbCBzY2FuKVwiXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodGhpcy5zY2FuQWdhaW4pIHtcblx0XHRcdFx0XHRcdHRoaXMuc2NhbkFnYWluID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR0aGlzLmRvU2Nhbih0aGlzLnNjYW5BZ2FpbkluaXRpYWwpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNjYW5uaW5nID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBpdGVtUGF0aHMgPSBuZXcgU2V0KFxuXHRcdFx0XHRcdGl0ZW1zLm1hcChpdGVtID0+IHBhdGguam9pbih0aGlzLnBhdGgsIGl0ZW0ubm9ybWFsaXplKFwiTkZDXCIpKSlcblx0XHRcdFx0KTtcblx0XHRcdFx0Zm9yIChjb25zdCBmaWxlIG9mIHRoaXMuZmlsZXMua2V5cygpKSB7XG5cdFx0XHRcdFx0aWYgKCFpdGVtUGF0aHMuaGFzKGZpbGUpKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldE1pc3NpbmcoZmlsZSwgaW5pdGlhbCwgXCJzY2FuIChtaXNzaW5nKVwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yIChjb25zdCBkaXJlY3Rvcnkgb2YgdGhpcy5kaXJlY3Rvcmllcy5rZXlzKCkpIHtcblx0XHRcdFx0XHRpZiAoIWl0ZW1QYXRocy5oYXMoZGlyZWN0b3J5KSkge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRNaXNzaW5nKGRpcmVjdG9yeSwgaW5pdGlhbCwgXCJzY2FuIChtaXNzaW5nKVwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHRoaXMuc2NhbkFnYWluKSB7XG5cdFx0XHRcdFx0Ly8gRWFybHkgcmVwZWF0IG9mIHNjYW5cblx0XHRcdFx0XHR0aGlzLnNjYW5BZ2FpbiA9IGZhbHNlO1xuXHRcdFx0XHRcdHRoaXMuZG9TY2FuKGluaXRpYWwpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBpdGVtRmluaXNoZWQgPSBuZWVkQ2FsbHMoaXRlbVBhdGhzLnNpemUgKyAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuY2xvc2VkKSByZXR1cm47XG5cdFx0XHRcdFx0dGhpcy5pbml0aWFsU2NhbiA9IGZhbHNlO1xuXHRcdFx0XHRcdHRoaXMuaW5pdGlhbFNjYW5SZW1vdmVkID0gbnVsbDtcblx0XHRcdFx0XHR0aGlzLmluaXRpYWxTY2FuRmluaXNoZWQgPSBEYXRlLm5vdygpO1xuXHRcdFx0XHRcdGlmIChpbml0aWFsKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBtaXNzaW5nV2F0Y2hlcnMgPSBuZXcgTWFwKHRoaXMud2F0Y2hlcnMpO1xuXHRcdFx0XHRcdFx0bWlzc2luZ1dhdGNoZXJzLmRlbGV0ZSh3aXRob3V0Q2FzZSh0aGlzLnBhdGgpKTtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgaXRlbSBvZiBpdGVtUGF0aHMpIHtcblx0XHRcdFx0XHRcdFx0bWlzc2luZ1dhdGNoZXJzLmRlbGV0ZSh3aXRob3V0Q2FzZShpdGVtKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHdhdGNoZXJzIG9mIG1pc3NpbmdXYXRjaGVycy52YWx1ZXMoKSkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHdhdGNoZXIgb2Ygd2F0Y2hlcnMpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAod2F0Y2hlci5jaGVja1N0YXJ0VGltZSh0aGlzLmluaXRpYWxTY2FuRmluaXNoZWQsIGZhbHNlKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d2F0Y2hlci5lbWl0KFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcImluaXRpYWwtbWlzc2luZ1wiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcInNjYW4gKG1pc3NpbmcgaW4gaW5pdGlhbCBzY2FuKVwiXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodGhpcy5zY2FuQWdhaW4pIHtcblx0XHRcdFx0XHRcdHRoaXMuc2NhbkFnYWluID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR0aGlzLmRvU2Nhbih0aGlzLnNjYW5BZ2FpbkluaXRpYWwpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNjYW5uaW5nID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR0aGlzLm9uU2NhbkZpbmlzaGVkKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Zm9yIChjb25zdCBpdGVtUGF0aCBvZiBpdGVtUGF0aHMpIHtcblx0XHRcdFx0XHRmcy5sc3RhdChpdGVtUGF0aCwgKGVycjIsIHN0YXRzKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5jbG9zZWQpIHJldHVybjtcblx0XHRcdFx0XHRcdGlmIChlcnIyKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0XHRlcnIyLmNvZGUgPT09IFwiRU5PRU5UXCIgfHxcblx0XHRcdFx0XHRcdFx0XHRlcnIyLmNvZGUgPT09IFwiRVBFUk1cIiB8fFxuXHRcdFx0XHRcdFx0XHRcdGVycjIuY29kZSA9PT0gXCJFQlVTWVwiXG5cdFx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0TWlzc2luZyhpdGVtUGF0aCwgaW5pdGlhbCwgXCJzY2FuIChcIiArIGVycjIuY29kZSArIFwiKVwiKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm9uU2NhbkVycm9yKGVycjIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGl0ZW1GaW5pc2hlZCgpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoc3RhdHMuaXNGaWxlKCkgfHwgc3RhdHMuaXNTeW1ib2xpY0xpbmsoKSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoc3RhdHMubXRpbWUpIHtcblx0XHRcdFx0XHRcdFx0XHRlbnN1cmVGc0FjY3VyYWN5KHN0YXRzLm10aW1lKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR0aGlzLnNldEZpbGVUaW1lKFxuXHRcdFx0XHRcdFx0XHRcdGl0ZW1QYXRoLFxuXHRcdFx0XHRcdFx0XHRcdCtzdGF0cy5tdGltZSB8fCArc3RhdHMuY3RpbWUgfHwgMSxcblx0XHRcdFx0XHRcdFx0XHRpbml0aWFsLFxuXHRcdFx0XHRcdFx0XHRcdHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XCJzY2FuIChmaWxlKVwiXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHN0YXRzLmlzRGlyZWN0b3J5KCkpIHtcblx0XHRcdFx0XHRcdFx0aWYgKCFpbml0aWFsIHx8ICF0aGlzLmRpcmVjdG9yaWVzLmhhcyhpdGVtUGF0aCkpXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXREaXJlY3RvcnkoXG5cdFx0XHRcdFx0XHRcdFx0XHRpdGVtUGF0aCxcblx0XHRcdFx0XHRcdFx0XHRcdCtzdGF0cy5iaXJ0aHRpbWUgfHwgMSxcblx0XHRcdFx0XHRcdFx0XHRcdGluaXRpYWwsXG5cdFx0XHRcdFx0XHRcdFx0XHRcInNjYW4gKGRpcilcIlxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpdGVtRmluaXNoZWQoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpdGVtRmluaXNoZWQoKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0Z2V0VGltZXMoKSB7XG5cdFx0Y29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0XHRsZXQgc2FmZVRpbWUgPSB0aGlzLmxhc3RXYXRjaEV2ZW50O1xuXHRcdGZvciAoY29uc3QgW2ZpbGUsIGVudHJ5XSBvZiB0aGlzLmZpbGVzKSB7XG5cdFx0XHRmaXh1cEVudHJ5QWNjdXJhY3koZW50cnkpO1xuXHRcdFx0c2FmZVRpbWUgPSBNYXRoLm1heChzYWZlVGltZSwgZW50cnkuc2FmZVRpbWUpO1xuXHRcdFx0b2JqW2ZpbGVdID0gTWF0aC5tYXgoZW50cnkuc2FmZVRpbWUsIGVudHJ5LnRpbWVzdGFtcCk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLm5lc3RlZFdhdGNoaW5nKSB7XG5cdFx0XHRmb3IgKGNvbnN0IHcgb2YgdGhpcy5kaXJlY3Rvcmllcy52YWx1ZXMoKSkge1xuXHRcdFx0XHRjb25zdCB0aW1lcyA9IHcuZGlyZWN0b3J5V2F0Y2hlci5nZXRUaW1lcygpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgT2JqZWN0LmtleXModGltZXMpKSB7XG5cdFx0XHRcdFx0Y29uc3QgdGltZSA9IHRpbWVzW2ZpbGVdO1xuXHRcdFx0XHRcdHNhZmVUaW1lID0gTWF0aC5tYXgoc2FmZVRpbWUsIHRpbWUpO1xuXHRcdFx0XHRcdG9ialtmaWxlXSA9IHRpbWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG9ialt0aGlzLnBhdGhdID0gc2FmZVRpbWU7XG5cdFx0fVxuXHRcdGlmICghdGhpcy5pbml0aWFsU2Nhbikge1xuXHRcdFx0Zm9yIChjb25zdCB3YXRjaGVycyBvZiB0aGlzLndhdGNoZXJzLnZhbHVlcygpKSB7XG5cdFx0XHRcdGZvciAoY29uc3Qgd2F0Y2hlciBvZiB3YXRjaGVycykge1xuXHRcdFx0XHRcdGNvbnN0IHBhdGggPSB3YXRjaGVyLnBhdGg7XG5cdFx0XHRcdFx0aWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwYXRoKSkge1xuXHRcdFx0XHRcdFx0b2JqW3BhdGhdID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG9iajtcblx0fVxuXG5cdGdldFRpbWVJbmZvRW50cmllcygpIHtcblx0XHRpZiAodGhpcy5fY2FjaGVkVGltZUluZm9FbnRyaWVzICE9PSB1bmRlZmluZWQpXG5cdFx0XHRyZXR1cm4gdGhpcy5fY2FjaGVkVGltZUluZm9FbnRyaWVzO1xuXHRcdGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcblx0XHRsZXQgc2FmZVRpbWUgPSB0aGlzLmxhc3RXYXRjaEV2ZW50O1xuXHRcdGZvciAoY29uc3QgW2ZpbGUsIGVudHJ5XSBvZiB0aGlzLmZpbGVzKSB7XG5cdFx0XHRmaXh1cEVudHJ5QWNjdXJhY3koZW50cnkpO1xuXHRcdFx0c2FmZVRpbWUgPSBNYXRoLm1heChzYWZlVGltZSwgZW50cnkuc2FmZVRpbWUpO1xuXHRcdFx0bWFwLnNldChmaWxlLCBlbnRyeSk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLm5lc3RlZFdhdGNoaW5nKSB7XG5cdFx0XHRmb3IgKGNvbnN0IHcgb2YgdGhpcy5kaXJlY3Rvcmllcy52YWx1ZXMoKSkge1xuXHRcdFx0XHRjb25zdCB0aW1lSW5mb0VudHJpZXMgPSB3LmRpcmVjdG9yeVdhdGNoZXIuZ2V0VGltZUluZm9FbnRyaWVzKCk7XG5cdFx0XHRcdGZvciAoY29uc3QgW2ZpbGUsIGVudHJ5XSBvZiB0aW1lSW5mb0VudHJpZXMpIHtcblx0XHRcdFx0XHRpZiAoZW50cnkpIHtcblx0XHRcdFx0XHRcdHNhZmVUaW1lID0gTWF0aC5tYXgoc2FmZVRpbWUsIGVudHJ5LnNhZmVUaW1lKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bWFwLnNldChmaWxlLCBlbnRyeSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1hcC5zZXQodGhpcy5wYXRoLCB7XG5cdFx0XHRcdHNhZmVUaW1lXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChjb25zdCBkaXIgb2YgdGhpcy5kaXJlY3Rvcmllcy5rZXlzKCkpIHtcblx0XHRcdFx0Ly8gTm8gYWRkaXRpb25hbCBpbmZvIGFib3V0IHRoaXMgZGlyZWN0b3J5XG5cdFx0XHRcdG1hcC5zZXQoZGlyLCBFWElTVEFOQ0VfT05MWV9USU1FX0VOVFJZKTtcblx0XHRcdH1cblx0XHRcdG1hcC5zZXQodGhpcy5wYXRoLCBFWElTVEFOQ0VfT05MWV9USU1FX0VOVFJZKTtcblx0XHR9XG5cdFx0aWYgKCF0aGlzLmluaXRpYWxTY2FuKSB7XG5cdFx0XHRmb3IgKGNvbnN0IHdhdGNoZXJzIG9mIHRoaXMud2F0Y2hlcnMudmFsdWVzKCkpIHtcblx0XHRcdFx0Zm9yIChjb25zdCB3YXRjaGVyIG9mIHdhdGNoZXJzKSB7XG5cdFx0XHRcdFx0Y29uc3QgcGF0aCA9IHdhdGNoZXIucGF0aDtcblx0XHRcdFx0XHRpZiAoIW1hcC5oYXMocGF0aCkpIHtcblx0XHRcdFx0XHRcdG1hcC5zZXQocGF0aCwgbnVsbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9jYWNoZWRUaW1lSW5mb0VudHJpZXMgPSBtYXA7XG5cdFx0fVxuXHRcdHJldHVybiBtYXA7XG5cdH1cblxuXHRjbG9zZSgpIHtcblx0XHR0aGlzLmNsb3NlZCA9IHRydWU7XG5cdFx0dGhpcy5pbml0aWFsU2NhbiA9IGZhbHNlO1xuXHRcdGlmICh0aGlzLndhdGNoZXIpIHtcblx0XHRcdHRoaXMud2F0Y2hlci5jbG9zZSgpO1xuXHRcdFx0dGhpcy53YXRjaGVyID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHRoaXMubmVzdGVkV2F0Y2hpbmcpIHtcblx0XHRcdGZvciAoY29uc3QgdyBvZiB0aGlzLmRpcmVjdG9yaWVzLnZhbHVlcygpKSB7XG5cdFx0XHRcdHcuY2xvc2UoKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuZGlyZWN0b3JpZXMuY2xlYXIoKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMucGFyZW50V2F0Y2hlcikge1xuXHRcdFx0dGhpcy5wYXJlbnRXYXRjaGVyLmNsb3NlKCk7XG5cdFx0XHR0aGlzLnBhcmVudFdhdGNoZXIgPSBudWxsO1xuXHRcdH1cblx0XHR0aGlzLmVtaXQoXCJjbG9zZWRcIik7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEaXJlY3RvcnlXYXRjaGVyO1xubW9kdWxlLmV4cG9ydHMuRVhJU1RBTkNFX09OTFlfVElNRV9FTlRSWSA9IEVYSVNUQU5DRV9PTkxZX1RJTUVfRU5UUlk7XG5cbmZ1bmN0aW9uIGZpeHVwRW50cnlBY2N1cmFjeShlbnRyeSkge1xuXHRpZiAoZW50cnkuYWNjdXJhY3kgPiBGU19BQ0NVUkFDWSkge1xuXHRcdGVudHJ5LnNhZmVUaW1lID0gZW50cnkuc2FmZVRpbWUgLSBlbnRyeS5hY2N1cmFjeSArIEZTX0FDQ1VSQUNZO1xuXHRcdGVudHJ5LmFjY3VyYWN5ID0gRlNfQUNDVVJBQ1k7XG5cdH1cbn1cblxuZnVuY3Rpb24gZW5zdXJlRnNBY2N1cmFjeShtdGltZSkge1xuXHRpZiAoIW10aW1lKSByZXR1cm47XG5cdGlmIChGU19BQ0NVUkFDWSA+IDEgJiYgbXRpbWUgJSAxICE9PSAwKSBGU19BQ0NVUkFDWSA9IDE7XG5cdGVsc2UgaWYgKEZTX0FDQ1VSQUNZID4gMTAgJiYgbXRpbWUgJSAxMCAhPT0gMCkgRlNfQUNDVVJBQ1kgPSAxMDtcblx0ZWxzZSBpZiAoRlNfQUNDVVJBQ1kgPiAxMDAgJiYgbXRpbWUgJSAxMDAgIT09IDApIEZTX0FDQ1VSQUNZID0gMTAwO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/watchpack/lib/DirectoryWatcher.js\n");

/***/ }),

/***/ "./node_modules/watchpack/lib/LinkResolver.js":
/*!****************************************************!*\
  !*** ./node_modules/watchpack/lib/LinkResolver.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\nconst fs = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'fs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nconst path = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'path'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\n// macOS, Linux, and Windows all rely on these errors\nconst EXPECTED_ERRORS = new Set([\"EINVAL\", \"ENOENT\"]);\n\n// On Windows there is also this error in some cases\nif (process.platform === \"win32\") EXPECTED_ERRORS.add(\"UNKNOWN\");\n\nclass LinkResolver {\n\tconstructor() {\n\t\tthis.cache = new Map();\n\t}\n\n\t/**\n\t * @param {string} file path to file or directory\n\t * @returns {string[]} array of file and all symlinks contributed in the resolving process (first item is the resolved file)\n\t */\n\tresolve(file) {\n\t\tconst cacheEntry = this.cache.get(file);\n\t\tif (cacheEntry !== undefined) {\n\t\t\treturn cacheEntry;\n\t\t}\n\t\tconst parent = path.dirname(file);\n\t\tif (parent === file) {\n\t\t\t// At root of filesystem there can't be a link\n\t\t\tconst result = Object.freeze([file]);\n\t\t\tthis.cache.set(file, result);\n\t\t\treturn result;\n\t\t}\n\t\t// resolve the parent directory to find links there and get the real path\n\t\tconst parentResolved = this.resolve(parent);\n\t\tlet realFile = file;\n\n\t\t// is the parent directory really somewhere else?\n\t\tif (parentResolved[0] !== parent) {\n\t\t\t// get the real location of file\n\t\t\tconst basename = path.basename(file);\n\t\t\trealFile = path.resolve(parentResolved[0], basename);\n\t\t}\n\t\t// try to read the link content\n\t\ttry {\n\t\t\tconst linkContent = fs.readlinkSync(realFile);\n\n\t\t\t// resolve the link content relative to the parent directory\n\t\t\tconst resolvedLink = path.resolve(parentResolved[0], linkContent);\n\n\t\t\t// recursive resolve the link content for more links in the structure\n\t\t\tconst linkResolved = this.resolve(resolvedLink);\n\n\t\t\t// merge parent and link resolve results\n\t\t\tlet result;\n\t\t\tif (linkResolved.length > 1 && parentResolved.length > 1) {\n\t\t\t\t// when both contain links we need to duplicate them with a Set\n\t\t\t\tconst resultSet = new Set(linkResolved);\n\t\t\t\t// add the link\n\t\t\t\tresultSet.add(realFile);\n\t\t\t\t// add all symlinks of the parent\n\t\t\t\tfor (let i = 1; i < parentResolved.length; i++) {\n\t\t\t\t\tresultSet.add(parentResolved[i]);\n\t\t\t\t}\n\t\t\t\tresult = Object.freeze(Array.from(resultSet));\n\t\t\t} else if (parentResolved.length > 1) {\n\t\t\t\t// we have links in the parent but not for the link content location\n\t\t\t\tresult = parentResolved.slice();\n\t\t\t\tresult[0] = linkResolved[0];\n\t\t\t\t// add the link\n\t\t\t\tresult.push(realFile);\n\t\t\t\tObject.freeze(result);\n\t\t\t} else if (linkResolved.length > 1) {\n\t\t\t\t// we can return the link content location result\n\t\t\t\tresult = linkResolved.slice();\n\t\t\t\t// add the link\n\t\t\t\tresult.push(realFile);\n\t\t\t\tObject.freeze(result);\n\t\t\t} else {\n\t\t\t\t// neither link content location nor parent have links\n\t\t\t\t// this link is the only link here\n\t\t\t\tresult = Object.freeze([\n\t\t\t\t\t// the resolve real location\n\t\t\t\t\tlinkResolved[0],\n\t\t\t\t\t// add the link\n\t\t\t\t\trealFile\n\t\t\t\t]);\n\t\t\t}\n\t\t\tthis.cache.set(file, result);\n\t\t\treturn result;\n\t\t} catch (e) {\n\t\t\tif (!EXPECTED_ERRORS.has(e.code)) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\t// no link\n\t\t\tconst result = parentResolved.slice();\n\t\t\tresult[0] = realFile;\n\t\t\tObject.freeze(result);\n\t\t\tthis.cache.set(file, result);\n\t\t\treturn result;\n\t\t}\n\t}\n}\nmodule.exports = LinkResolver;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2F0Y2hwYWNrL2xpYi9MaW5rUmVzb2x2ZXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDYTs7QUFFYixXQUFXLG1CQUFPLENBQUMsaUlBQUk7QUFDdkIsYUFBYSxtQkFBTyxDQUFDLG1JQUFNOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLFFBQVE7QUFDcEIsY0FBYyxVQUFVO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyQkFBMkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tbS1sZXZpdHkvLi9ub2RlX21vZHVsZXMvd2F0Y2hwYWNrL2xpYi9MaW5rUmVzb2x2ZXIuanM/YjFkOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuXG4vLyBtYWNPUywgTGludXgsIGFuZCBXaW5kb3dzIGFsbCByZWx5IG9uIHRoZXNlIGVycm9yc1xuY29uc3QgRVhQRUNURURfRVJST1JTID0gbmV3IFNldChbXCJFSU5WQUxcIiwgXCJFTk9FTlRcIl0pO1xuXG4vLyBPbiBXaW5kb3dzIHRoZXJlIGlzIGFsc28gdGhpcyBlcnJvciBpbiBzb21lIGNhc2VzXG5pZiAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gXCJ3aW4zMlwiKSBFWFBFQ1RFRF9FUlJPUlMuYWRkKFwiVU5LTk9XTlwiKTtcblxuY2xhc3MgTGlua1Jlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5jYWNoZSA9IG5ldyBNYXAoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmlsZSBwYXRoIHRvIGZpbGUgb3IgZGlyZWN0b3J5XG5cdCAqIEByZXR1cm5zIHtzdHJpbmdbXX0gYXJyYXkgb2YgZmlsZSBhbmQgYWxsIHN5bWxpbmtzIGNvbnRyaWJ1dGVkIGluIHRoZSByZXNvbHZpbmcgcHJvY2VzcyAoZmlyc3QgaXRlbSBpcyB0aGUgcmVzb2x2ZWQgZmlsZSlcblx0ICovXG5cdHJlc29sdmUoZmlsZSkge1xuXHRcdGNvbnN0IGNhY2hlRW50cnkgPSB0aGlzLmNhY2hlLmdldChmaWxlKTtcblx0XHRpZiAoY2FjaGVFbnRyeSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gY2FjaGVFbnRyeTtcblx0XHR9XG5cdFx0Y29uc3QgcGFyZW50ID0gcGF0aC5kaXJuYW1lKGZpbGUpO1xuXHRcdGlmIChwYXJlbnQgPT09IGZpbGUpIHtcblx0XHRcdC8vIEF0IHJvb3Qgb2YgZmlsZXN5c3RlbSB0aGVyZSBjYW4ndCBiZSBhIGxpbmtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IE9iamVjdC5mcmVlemUoW2ZpbGVdKTtcblx0XHRcdHRoaXMuY2FjaGUuc2V0KGZpbGUsIHJlc3VsdCk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0XHQvLyByZXNvbHZlIHRoZSBwYXJlbnQgZGlyZWN0b3J5IHRvIGZpbmQgbGlua3MgdGhlcmUgYW5kIGdldCB0aGUgcmVhbCBwYXRoXG5cdFx0Y29uc3QgcGFyZW50UmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUocGFyZW50KTtcblx0XHRsZXQgcmVhbEZpbGUgPSBmaWxlO1xuXG5cdFx0Ly8gaXMgdGhlIHBhcmVudCBkaXJlY3RvcnkgcmVhbGx5IHNvbWV3aGVyZSBlbHNlP1xuXHRcdGlmIChwYXJlbnRSZXNvbHZlZFswXSAhPT0gcGFyZW50KSB7XG5cdFx0XHQvLyBnZXQgdGhlIHJlYWwgbG9jYXRpb24gb2YgZmlsZVxuXHRcdFx0Y29uc3QgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKGZpbGUpO1xuXHRcdFx0cmVhbEZpbGUgPSBwYXRoLnJlc29sdmUocGFyZW50UmVzb2x2ZWRbMF0sIGJhc2VuYW1lKTtcblx0XHR9XG5cdFx0Ly8gdHJ5IHRvIHJlYWQgdGhlIGxpbmsgY29udGVudFxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBsaW5rQ29udGVudCA9IGZzLnJlYWRsaW5rU3luYyhyZWFsRmlsZSk7XG5cblx0XHRcdC8vIHJlc29sdmUgdGhlIGxpbmsgY29udGVudCByZWxhdGl2ZSB0byB0aGUgcGFyZW50IGRpcmVjdG9yeVxuXHRcdFx0Y29uc3QgcmVzb2x2ZWRMaW5rID0gcGF0aC5yZXNvbHZlKHBhcmVudFJlc29sdmVkWzBdLCBsaW5rQ29udGVudCk7XG5cblx0XHRcdC8vIHJlY3Vyc2l2ZSByZXNvbHZlIHRoZSBsaW5rIGNvbnRlbnQgZm9yIG1vcmUgbGlua3MgaW4gdGhlIHN0cnVjdHVyZVxuXHRcdFx0Y29uc3QgbGlua1Jlc29sdmVkID0gdGhpcy5yZXNvbHZlKHJlc29sdmVkTGluayk7XG5cblx0XHRcdC8vIG1lcmdlIHBhcmVudCBhbmQgbGluayByZXNvbHZlIHJlc3VsdHNcblx0XHRcdGxldCByZXN1bHQ7XG5cdFx0XHRpZiAobGlua1Jlc29sdmVkLmxlbmd0aCA+IDEgJiYgcGFyZW50UmVzb2x2ZWQubGVuZ3RoID4gMSkge1xuXHRcdFx0XHQvLyB3aGVuIGJvdGggY29udGFpbiBsaW5rcyB3ZSBuZWVkIHRvIGR1cGxpY2F0ZSB0aGVtIHdpdGggYSBTZXRcblx0XHRcdFx0Y29uc3QgcmVzdWx0U2V0ID0gbmV3IFNldChsaW5rUmVzb2x2ZWQpO1xuXHRcdFx0XHQvLyBhZGQgdGhlIGxpbmtcblx0XHRcdFx0cmVzdWx0U2V0LmFkZChyZWFsRmlsZSk7XG5cdFx0XHRcdC8vIGFkZCBhbGwgc3ltbGlua3Mgb2YgdGhlIHBhcmVudFxuXHRcdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IHBhcmVudFJlc29sdmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0cmVzdWx0U2V0LmFkZChwYXJlbnRSZXNvbHZlZFtpXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmVzdWx0ID0gT2JqZWN0LmZyZWV6ZShBcnJheS5mcm9tKHJlc3VsdFNldCkpO1xuXHRcdFx0fSBlbHNlIGlmIChwYXJlbnRSZXNvbHZlZC5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdC8vIHdlIGhhdmUgbGlua3MgaW4gdGhlIHBhcmVudCBidXQgbm90IGZvciB0aGUgbGluayBjb250ZW50IGxvY2F0aW9uXG5cdFx0XHRcdHJlc3VsdCA9IHBhcmVudFJlc29sdmVkLnNsaWNlKCk7XG5cdFx0XHRcdHJlc3VsdFswXSA9IGxpbmtSZXNvbHZlZFswXTtcblx0XHRcdFx0Ly8gYWRkIHRoZSBsaW5rXG5cdFx0XHRcdHJlc3VsdC5wdXNoKHJlYWxGaWxlKTtcblx0XHRcdFx0T2JqZWN0LmZyZWV6ZShyZXN1bHQpO1xuXHRcdFx0fSBlbHNlIGlmIChsaW5rUmVzb2x2ZWQubGVuZ3RoID4gMSkge1xuXHRcdFx0XHQvLyB3ZSBjYW4gcmV0dXJuIHRoZSBsaW5rIGNvbnRlbnQgbG9jYXRpb24gcmVzdWx0XG5cdFx0XHRcdHJlc3VsdCA9IGxpbmtSZXNvbHZlZC5zbGljZSgpO1xuXHRcdFx0XHQvLyBhZGQgdGhlIGxpbmtcblx0XHRcdFx0cmVzdWx0LnB1c2gocmVhbEZpbGUpO1xuXHRcdFx0XHRPYmplY3QuZnJlZXplKHJlc3VsdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBuZWl0aGVyIGxpbmsgY29udGVudCBsb2NhdGlvbiBub3IgcGFyZW50IGhhdmUgbGlua3Ncblx0XHRcdFx0Ly8gdGhpcyBsaW5rIGlzIHRoZSBvbmx5IGxpbmsgaGVyZVxuXHRcdFx0XHRyZXN1bHQgPSBPYmplY3QuZnJlZXplKFtcblx0XHRcdFx0XHQvLyB0aGUgcmVzb2x2ZSByZWFsIGxvY2F0aW9uXG5cdFx0XHRcdFx0bGlua1Jlc29sdmVkWzBdLFxuXHRcdFx0XHRcdC8vIGFkZCB0aGUgbGlua1xuXHRcdFx0XHRcdHJlYWxGaWxlXG5cdFx0XHRcdF0pO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5jYWNoZS5zZXQoZmlsZSwgcmVzdWx0KTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0aWYgKCFFWFBFQ1RFRF9FUlJPUlMuaGFzKGUuY29kZSkpIHtcblx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdH1cblx0XHRcdC8vIG5vIGxpbmtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IHBhcmVudFJlc29sdmVkLnNsaWNlKCk7XG5cdFx0XHRyZXN1bHRbMF0gPSByZWFsRmlsZTtcblx0XHRcdE9iamVjdC5mcmVlemUocmVzdWx0KTtcblx0XHRcdHRoaXMuY2FjaGUuc2V0KGZpbGUsIHJlc3VsdCk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxufVxubW9kdWxlLmV4cG9ydHMgPSBMaW5rUmVzb2x2ZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/watchpack/lib/LinkResolver.js\n");

/***/ }),

/***/ "./node_modules/watchpack/lib/getWatcherManager.js":
/*!*********************************************************!*\
  !*** ./node_modules/watchpack/lib/getWatcherManager.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\nconst path = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'path'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nconst DirectoryWatcher = __webpack_require__(/*! ./DirectoryWatcher */ \"./node_modules/watchpack/lib/DirectoryWatcher.js\");\n\nclass WatcherManager {\n\tconstructor(options) {\n\t\tthis.options = options;\n\t\tthis.directoryWatchers = new Map();\n\t}\n\n\tgetDirectoryWatcher(directory) {\n\t\tconst watcher = this.directoryWatchers.get(directory);\n\t\tif (watcher === undefined) {\n\t\t\tconst newWatcher = new DirectoryWatcher(this, directory, this.options);\n\t\t\tthis.directoryWatchers.set(directory, newWatcher);\n\t\t\tnewWatcher.on(\"closed\", () => {\n\t\t\t\tthis.directoryWatchers.delete(directory);\n\t\t\t});\n\t\t\treturn newWatcher;\n\t\t}\n\t\treturn watcher;\n\t}\n\n\twatchFile(p, startTime) {\n\t\tconst directory = path.dirname(p);\n\t\tif (directory === p) return null;\n\t\treturn this.getDirectoryWatcher(directory).watch(p, startTime);\n\t}\n\n\twatchDirectory(directory, startTime) {\n\t\treturn this.getDirectoryWatcher(directory).watch(directory, startTime);\n\t}\n}\n\nconst watcherManagers = new WeakMap();\n/**\n * @param {object} options options\n * @returns {WatcherManager} the watcher manager\n */\nmodule.exports = options => {\n\tconst watcherManager = watcherManagers.get(options);\n\tif (watcherManager !== undefined) return watcherManager;\n\tconst newWatcherManager = new WatcherManager(options);\n\twatcherManagers.set(options, newWatcherManager);\n\treturn newWatcherManager;\n};\nmodule.exports.WatcherManager = WatcherManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2F0Y2hwYWNrL2xpYi9nZXRXYXRjaGVyTWFuYWdlci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNhOztBQUViLGFBQWEsbUJBQU8sQ0FBQyxtSUFBTTtBQUMzQix5QkFBeUIsbUJBQU8sQ0FBQyw0RUFBb0I7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tbS1sZXZpdHkvLi9ub2RlX21vZHVsZXMvd2F0Y2hwYWNrL2xpYi9nZXRXYXRjaGVyTWFuYWdlci5qcz9jOGVmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgRGlyZWN0b3J5V2F0Y2hlciA9IHJlcXVpcmUoXCIuL0RpcmVjdG9yeVdhdGNoZXJcIik7XG5cbmNsYXNzIFdhdGNoZXJNYW5hZ2VyIHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0dGhpcy5kaXJlY3RvcnlXYXRjaGVycyA9IG5ldyBNYXAoKTtcblx0fVxuXG5cdGdldERpcmVjdG9yeVdhdGNoZXIoZGlyZWN0b3J5KSB7XG5cdFx0Y29uc3Qgd2F0Y2hlciA9IHRoaXMuZGlyZWN0b3J5V2F0Y2hlcnMuZ2V0KGRpcmVjdG9yeSk7XG5cdFx0aWYgKHdhdGNoZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgbmV3V2F0Y2hlciA9IG5ldyBEaXJlY3RvcnlXYXRjaGVyKHRoaXMsIGRpcmVjdG9yeSwgdGhpcy5vcHRpb25zKTtcblx0XHRcdHRoaXMuZGlyZWN0b3J5V2F0Y2hlcnMuc2V0KGRpcmVjdG9yeSwgbmV3V2F0Y2hlcik7XG5cdFx0XHRuZXdXYXRjaGVyLm9uKFwiY2xvc2VkXCIsICgpID0+IHtcblx0XHRcdFx0dGhpcy5kaXJlY3RvcnlXYXRjaGVycy5kZWxldGUoZGlyZWN0b3J5KTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIG5ld1dhdGNoZXI7XG5cdFx0fVxuXHRcdHJldHVybiB3YXRjaGVyO1xuXHR9XG5cblx0d2F0Y2hGaWxlKHAsIHN0YXJ0VGltZSkge1xuXHRcdGNvbnN0IGRpcmVjdG9yeSA9IHBhdGguZGlybmFtZShwKTtcblx0XHRpZiAoZGlyZWN0b3J5ID09PSBwKSByZXR1cm4gbnVsbDtcblx0XHRyZXR1cm4gdGhpcy5nZXREaXJlY3RvcnlXYXRjaGVyKGRpcmVjdG9yeSkud2F0Y2gocCwgc3RhcnRUaW1lKTtcblx0fVxuXG5cdHdhdGNoRGlyZWN0b3J5KGRpcmVjdG9yeSwgc3RhcnRUaW1lKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0RGlyZWN0b3J5V2F0Y2hlcihkaXJlY3RvcnkpLndhdGNoKGRpcmVjdG9yeSwgc3RhcnRUaW1lKTtcblx0fVxufVxuXG5jb25zdCB3YXRjaGVyTWFuYWdlcnMgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBvcHRpb25zXG4gKiBAcmV0dXJucyB7V2F0Y2hlck1hbmFnZXJ9IHRoZSB3YXRjaGVyIG1hbmFnZXJcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBvcHRpb25zID0+IHtcblx0Y29uc3Qgd2F0Y2hlck1hbmFnZXIgPSB3YXRjaGVyTWFuYWdlcnMuZ2V0KG9wdGlvbnMpO1xuXHRpZiAod2F0Y2hlck1hbmFnZXIgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHdhdGNoZXJNYW5hZ2VyO1xuXHRjb25zdCBuZXdXYXRjaGVyTWFuYWdlciA9IG5ldyBXYXRjaGVyTWFuYWdlcihvcHRpb25zKTtcblx0d2F0Y2hlck1hbmFnZXJzLnNldChvcHRpb25zLCBuZXdXYXRjaGVyTWFuYWdlcik7XG5cdHJldHVybiBuZXdXYXRjaGVyTWFuYWdlcjtcbn07XG5tb2R1bGUuZXhwb3J0cy5XYXRjaGVyTWFuYWdlciA9IFdhdGNoZXJNYW5hZ2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/watchpack/lib/getWatcherManager.js\n");

/***/ }),

/***/ "./node_modules/watchpack/lib/reducePlan.js":
/*!**************************************************!*\
  !*** ./node_modules/watchpack/lib/reducePlan.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\nconst path = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'path'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\n/**\n * @template T\n * @typedef {Object} TreeNode\n * @property {string} filePath\n * @property {TreeNode} parent\n * @property {TreeNode[]} children\n * @property {number} entries\n * @property {boolean} active\n * @property {T[] | T | undefined} value\n */\n\n/**\n * @template T\n * @param {Map<string, T[] | T} plan\n * @param {number} limit\n * @returns {Map<string, Map<T, string>>} the new plan\n */\nmodule.exports = (plan, limit) => {\n\tconst treeMap = new Map();\n\t// Convert to tree\n\tfor (const [filePath, value] of plan) {\n\t\ttreeMap.set(filePath, {\n\t\t\tfilePath,\n\t\t\tparent: undefined,\n\t\t\tchildren: undefined,\n\t\t\tentries: 1,\n\t\t\tactive: true,\n\t\t\tvalue\n\t\t});\n\t}\n\tlet currentCount = treeMap.size;\n\t// Create parents and calculate sum of entries\n\tfor (const node of treeMap.values()) {\n\t\tconst parentPath = path.dirname(node.filePath);\n\t\tif (parentPath !== node.filePath) {\n\t\t\tlet parent = treeMap.get(parentPath);\n\t\t\tif (parent === undefined) {\n\t\t\t\tparent = {\n\t\t\t\t\tfilePath: parentPath,\n\t\t\t\t\tparent: undefined,\n\t\t\t\t\tchildren: [node],\n\t\t\t\t\tentries: node.entries,\n\t\t\t\t\tactive: false,\n\t\t\t\t\tvalue: undefined\n\t\t\t\t};\n\t\t\t\ttreeMap.set(parentPath, parent);\n\t\t\t\tnode.parent = parent;\n\t\t\t} else {\n\t\t\t\tnode.parent = parent;\n\t\t\t\tif (parent.children === undefined) {\n\t\t\t\t\tparent.children = [node];\n\t\t\t\t} else {\n\t\t\t\t\tparent.children.push(node);\n\t\t\t\t}\n\t\t\t\tdo {\n\t\t\t\t\tparent.entries += node.entries;\n\t\t\t\t\tparent = parent.parent;\n\t\t\t\t} while (parent);\n\t\t\t}\n\t\t}\n\t}\n\t// Reduce until limit reached\n\twhile (currentCount > limit) {\n\t\t// Select node that helps reaching the limit most effectively without overmerging\n\t\tconst overLimit = currentCount - limit;\n\t\tlet bestNode = undefined;\n\t\tlet bestCost = Infinity;\n\t\tfor (const node of treeMap.values()) {\n\t\t\tif (node.entries <= 1 || !node.children || !node.parent) continue;\n\t\t\tif (node.children.length === 0) continue;\n\t\t\tif (node.children.length === 1 && !node.value) continue;\n\t\t\t// Try to select the node with has just a bit more entries than we need to reduce\n\t\t\t// When just a bit more is over 30% over the limit,\n\t\t\t// also consider just a bit less entries then we need to reduce\n\t\t\tconst cost =\n\t\t\t\tnode.entries - 1 >= overLimit\n\t\t\t\t\t? node.entries - 1 - overLimit\n\t\t\t\t\t: overLimit - node.entries + 1 + limit * 0.3;\n\t\t\tif (cost < bestCost) {\n\t\t\t\tbestNode = node;\n\t\t\t\tbestCost = cost;\n\t\t\t}\n\t\t}\n\t\tif (!bestNode) break;\n\t\t// Merge all children\n\t\tconst reduction = bestNode.entries - 1;\n\t\tbestNode.active = true;\n\t\tbestNode.entries = 1;\n\t\tcurrentCount -= reduction;\n\t\tlet parent = bestNode.parent;\n\t\twhile (parent) {\n\t\t\tparent.entries -= reduction;\n\t\t\tparent = parent.parent;\n\t\t}\n\t\tconst queue = new Set(bestNode.children);\n\t\tfor (const node of queue) {\n\t\t\tnode.active = false;\n\t\t\tnode.entries = 0;\n\t\t\tif (node.children) {\n\t\t\t\tfor (const child of node.children) queue.add(child);\n\t\t\t}\n\t\t}\n\t}\n\t// Write down new plan\n\tconst newPlan = new Map();\n\tfor (const rootNode of treeMap.values()) {\n\t\tif (!rootNode.active) continue;\n\t\tconst map = new Map();\n\t\tconst queue = new Set([rootNode]);\n\t\tfor (const node of queue) {\n\t\t\tif (node.active && node !== rootNode) continue;\n\t\t\tif (node.value) {\n\t\t\t\tif (Array.isArray(node.value)) {\n\t\t\t\t\tfor (const item of node.value) {\n\t\t\t\t\t\tmap.set(item, node.filePath);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmap.set(node.value, node.filePath);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (node.children) {\n\t\t\t\tfor (const child of node.children) {\n\t\t\t\t\tqueue.add(child);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tnewPlan.set(rootNode.filePath, map);\n\t}\n\treturn newPlan;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2F0Y2hwYWNrL2xpYi9yZWR1Y2VQbGFuLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRWIsYUFBYSxtQkFBTyxDQUFDLG1JQUFNOztBQUUzQjtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxZQUFZO0FBQzFCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxxQkFBcUI7QUFDbkM7O0FBRUE7QUFDQTtBQUNBLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcsUUFBUTtBQUNuQixhQUFhLDZCQUE2QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNvbW0tbGV2aXR5Ly4vbm9kZV9tb2R1bGVzL3dhdGNocGFjay9saWIvcmVkdWNlUGxhbi5qcz80OWFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUcmVlTm9kZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGZpbGVQYXRoXG4gKiBAcHJvcGVydHkge1RyZWVOb2RlfSBwYXJlbnRcbiAqIEBwcm9wZXJ0eSB7VHJlZU5vZGVbXX0gY2hpbGRyZW5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbnRyaWVzXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFjdGl2ZVxuICogQHByb3BlcnR5IHtUW10gfCBUIHwgdW5kZWZpbmVkfSB2YWx1ZVxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7TWFwPHN0cmluZywgVFtdIHwgVH0gcGxhblxuICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0XG4gKiBAcmV0dXJucyB7TWFwPHN0cmluZywgTWFwPFQsIHN0cmluZz4+fSB0aGUgbmV3IHBsYW5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAocGxhbiwgbGltaXQpID0+IHtcblx0Y29uc3QgdHJlZU1hcCA9IG5ldyBNYXAoKTtcblx0Ly8gQ29udmVydCB0byB0cmVlXG5cdGZvciAoY29uc3QgW2ZpbGVQYXRoLCB2YWx1ZV0gb2YgcGxhbikge1xuXHRcdHRyZWVNYXAuc2V0KGZpbGVQYXRoLCB7XG5cdFx0XHRmaWxlUGF0aCxcblx0XHRcdHBhcmVudDogdW5kZWZpbmVkLFxuXHRcdFx0Y2hpbGRyZW46IHVuZGVmaW5lZCxcblx0XHRcdGVudHJpZXM6IDEsXG5cdFx0XHRhY3RpdmU6IHRydWUsXG5cdFx0XHR2YWx1ZVxuXHRcdH0pO1xuXHR9XG5cdGxldCBjdXJyZW50Q291bnQgPSB0cmVlTWFwLnNpemU7XG5cdC8vIENyZWF0ZSBwYXJlbnRzIGFuZCBjYWxjdWxhdGUgc3VtIG9mIGVudHJpZXNcblx0Zm9yIChjb25zdCBub2RlIG9mIHRyZWVNYXAudmFsdWVzKCkpIHtcblx0XHRjb25zdCBwYXJlbnRQYXRoID0gcGF0aC5kaXJuYW1lKG5vZGUuZmlsZVBhdGgpO1xuXHRcdGlmIChwYXJlbnRQYXRoICE9PSBub2RlLmZpbGVQYXRoKSB7XG5cdFx0XHRsZXQgcGFyZW50ID0gdHJlZU1hcC5nZXQocGFyZW50UGF0aCk7XG5cdFx0XHRpZiAocGFyZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cGFyZW50ID0ge1xuXHRcdFx0XHRcdGZpbGVQYXRoOiBwYXJlbnRQYXRoLFxuXHRcdFx0XHRcdHBhcmVudDogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdGNoaWxkcmVuOiBbbm9kZV0sXG5cdFx0XHRcdFx0ZW50cmllczogbm9kZS5lbnRyaWVzLFxuXHRcdFx0XHRcdGFjdGl2ZTogZmFsc2UsXG5cdFx0XHRcdFx0dmFsdWU6IHVuZGVmaW5lZFxuXHRcdFx0XHR9O1xuXHRcdFx0XHR0cmVlTWFwLnNldChwYXJlbnRQYXRoLCBwYXJlbnQpO1xuXHRcdFx0XHRub2RlLnBhcmVudCA9IHBhcmVudDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUucGFyZW50ID0gcGFyZW50O1xuXHRcdFx0XHRpZiAocGFyZW50LmNoaWxkcmVuID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRwYXJlbnQuY2hpbGRyZW4gPSBbbm9kZV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cGFyZW50LmNoaWxkcmVuLnB1c2gobm9kZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdHBhcmVudC5lbnRyaWVzICs9IG5vZGUuZW50cmllcztcblx0XHRcdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuXHRcdFx0XHR9IHdoaWxlIChwYXJlbnQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHQvLyBSZWR1Y2UgdW50aWwgbGltaXQgcmVhY2hlZFxuXHR3aGlsZSAoY3VycmVudENvdW50ID4gbGltaXQpIHtcblx0XHQvLyBTZWxlY3Qgbm9kZSB0aGF0IGhlbHBzIHJlYWNoaW5nIHRoZSBsaW1pdCBtb3N0IGVmZmVjdGl2ZWx5IHdpdGhvdXQgb3Zlcm1lcmdpbmdcblx0XHRjb25zdCBvdmVyTGltaXQgPSBjdXJyZW50Q291bnQgLSBsaW1pdDtcblx0XHRsZXQgYmVzdE5vZGUgPSB1bmRlZmluZWQ7XG5cdFx0bGV0IGJlc3RDb3N0ID0gSW5maW5pdHk7XG5cdFx0Zm9yIChjb25zdCBub2RlIG9mIHRyZWVNYXAudmFsdWVzKCkpIHtcblx0XHRcdGlmIChub2RlLmVudHJpZXMgPD0gMSB8fCAhbm9kZS5jaGlsZHJlbiB8fCAhbm9kZS5wYXJlbnQpIGNvbnRpbnVlO1xuXHRcdFx0aWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSBjb250aW51ZTtcblx0XHRcdGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiAhbm9kZS52YWx1ZSkgY29udGludWU7XG5cdFx0XHQvLyBUcnkgdG8gc2VsZWN0IHRoZSBub2RlIHdpdGggaGFzIGp1c3QgYSBiaXQgbW9yZSBlbnRyaWVzIHRoYW4gd2UgbmVlZCB0byByZWR1Y2Vcblx0XHRcdC8vIFdoZW4ganVzdCBhIGJpdCBtb3JlIGlzIG92ZXIgMzAlIG92ZXIgdGhlIGxpbWl0LFxuXHRcdFx0Ly8gYWxzbyBjb25zaWRlciBqdXN0IGEgYml0IGxlc3MgZW50cmllcyB0aGVuIHdlIG5lZWQgdG8gcmVkdWNlXG5cdFx0XHRjb25zdCBjb3N0ID1cblx0XHRcdFx0bm9kZS5lbnRyaWVzIC0gMSA+PSBvdmVyTGltaXRcblx0XHRcdFx0XHQ/IG5vZGUuZW50cmllcyAtIDEgLSBvdmVyTGltaXRcblx0XHRcdFx0XHQ6IG92ZXJMaW1pdCAtIG5vZGUuZW50cmllcyArIDEgKyBsaW1pdCAqIDAuMztcblx0XHRcdGlmIChjb3N0IDwgYmVzdENvc3QpIHtcblx0XHRcdFx0YmVzdE5vZGUgPSBub2RlO1xuXHRcdFx0XHRiZXN0Q29zdCA9IGNvc3Q7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICghYmVzdE5vZGUpIGJyZWFrO1xuXHRcdC8vIE1lcmdlIGFsbCBjaGlsZHJlblxuXHRcdGNvbnN0IHJlZHVjdGlvbiA9IGJlc3ROb2RlLmVudHJpZXMgLSAxO1xuXHRcdGJlc3ROb2RlLmFjdGl2ZSA9IHRydWU7XG5cdFx0YmVzdE5vZGUuZW50cmllcyA9IDE7XG5cdFx0Y3VycmVudENvdW50IC09IHJlZHVjdGlvbjtcblx0XHRsZXQgcGFyZW50ID0gYmVzdE5vZGUucGFyZW50O1xuXHRcdHdoaWxlIChwYXJlbnQpIHtcblx0XHRcdHBhcmVudC5lbnRyaWVzIC09IHJlZHVjdGlvbjtcblx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG5cdFx0fVxuXHRcdGNvbnN0IHF1ZXVlID0gbmV3IFNldChiZXN0Tm9kZS5jaGlsZHJlbik7XG5cdFx0Zm9yIChjb25zdCBub2RlIG9mIHF1ZXVlKSB7XG5cdFx0XHRub2RlLmFjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0bm9kZS5lbnRyaWVzID0gMDtcblx0XHRcdGlmIChub2RlLmNoaWxkcmVuKSB7XG5cdFx0XHRcdGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikgcXVldWUuYWRkKGNoaWxkKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0Ly8gV3JpdGUgZG93biBuZXcgcGxhblxuXHRjb25zdCBuZXdQbGFuID0gbmV3IE1hcCgpO1xuXHRmb3IgKGNvbnN0IHJvb3ROb2RlIG9mIHRyZWVNYXAudmFsdWVzKCkpIHtcblx0XHRpZiAoIXJvb3ROb2RlLmFjdGl2ZSkgY29udGludWU7XG5cdFx0Y29uc3QgbWFwID0gbmV3IE1hcCgpO1xuXHRcdGNvbnN0IHF1ZXVlID0gbmV3IFNldChbcm9vdE5vZGVdKTtcblx0XHRmb3IgKGNvbnN0IG5vZGUgb2YgcXVldWUpIHtcblx0XHRcdGlmIChub2RlLmFjdGl2ZSAmJiBub2RlICE9PSByb290Tm9kZSkgY29udGludWU7XG5cdFx0XHRpZiAobm9kZS52YWx1ZSkge1xuXHRcdFx0XHRpZiAoQXJyYXkuaXNBcnJheShub2RlLnZhbHVlKSkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgaXRlbSBvZiBub2RlLnZhbHVlKSB7XG5cdFx0XHRcdFx0XHRtYXAuc2V0KGl0ZW0sIG5vZGUuZmlsZVBhdGgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRtYXAuc2V0KG5vZGUudmFsdWUsIG5vZGUuZmlsZVBhdGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAobm9kZS5jaGlsZHJlbikge1xuXHRcdFx0XHRmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcblx0XHRcdFx0XHRxdWV1ZS5hZGQoY2hpbGQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdG5ld1BsYW4uc2V0KHJvb3ROb2RlLmZpbGVQYXRoLCBtYXApO1xuXHR9XG5cdHJldHVybiBuZXdQbGFuO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/watchpack/lib/reducePlan.js\n");

/***/ }),

/***/ "./node_modules/watchpack/lib/watchEventSource.js":
/*!********************************************************!*\
  !*** ./node_modules/watchpack/lib/watchEventSource.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\nconst fs = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'fs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nconst path = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'path'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nconst { EventEmitter } = __webpack_require__(/*! events */ \"./node_modules/events/events.js\");\nconst reducePlan = __webpack_require__(/*! ./reducePlan */ \"./node_modules/watchpack/lib/reducePlan.js\");\n\nconst IS_OSX = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'os'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).platform() === \"darwin\";\nconst IS_WIN = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'os'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).platform() === \"win32\";\nconst SUPPORTS_RECURSIVE_WATCHING = IS_OSX || IS_WIN;\n\nconst watcherLimit =\n\t+process.env.WATCHPACK_WATCHER_LIMIT || (IS_OSX ? 2000 : 10000);\n\nconst recursiveWatcherLogging = !!process.env\n\t.WATCHPACK_RECURSIVE_WATCHER_LOGGING;\n\nlet isBatch = false;\nlet watcherCount = 0;\n\n/** @type {Map<Watcher, string>} */\nconst pendingWatchers = new Map();\n\n/** @type {Map<string, RecursiveWatcher>} */\nconst recursiveWatchers = new Map();\n\n/** @type {Map<string, DirectWatcher>} */\nconst directWatchers = new Map();\n\n/** @type {Map<Watcher, RecursiveWatcher | DirectWatcher>} */\nconst underlyingWatcher = new Map();\n\nclass DirectWatcher {\n\tconstructor(filePath) {\n\t\tthis.filePath = filePath;\n\t\tthis.watchers = new Set();\n\t\tthis.watcher = undefined;\n\t\ttry {\n\t\t\tconst watcher = fs.watch(filePath);\n\t\t\tthis.watcher = watcher;\n\t\t\twatcher.on(\"change\", (type, filename) => {\n\t\t\t\tfor (const w of this.watchers) {\n\t\t\t\t\tw.emit(\"change\", type, filename);\n\t\t\t\t}\n\t\t\t});\n\t\t\twatcher.on(\"error\", error => {\n\t\t\t\tfor (const w of this.watchers) {\n\t\t\t\t\tw.emit(\"error\", error);\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(() => {\n\t\t\t\tfor (const w of this.watchers) {\n\t\t\t\t\tw.emit(\"error\", err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\twatcherCount++;\n\t}\n\n\tadd(watcher) {\n\t\tunderlyingWatcher.set(watcher, this);\n\t\tthis.watchers.add(watcher);\n\t}\n\n\tremove(watcher) {\n\t\tthis.watchers.delete(watcher);\n\t\tif (this.watchers.size === 0) {\n\t\t\tdirectWatchers.delete(this.filePath);\n\t\t\twatcherCount--;\n\t\t\tif (this.watcher) this.watcher.close();\n\t\t}\n\t}\n\n\tgetWatchers() {\n\t\treturn this.watchers;\n\t}\n}\n\nclass RecursiveWatcher {\n\tconstructor(rootPath) {\n\t\tthis.rootPath = rootPath;\n\t\t/** @type {Map<Watcher, string>} */\n\t\tthis.mapWatcherToPath = new Map();\n\t\t/** @type {Map<string, Set<Watcher>>} */\n\t\tthis.mapPathToWatchers = new Map();\n\t\tthis.watcher = undefined;\n\t\ttry {\n\t\t\tconst watcher = fs.watch(rootPath, {\n\t\t\t\trecursive: true\n\t\t\t});\n\t\t\tthis.watcher = watcher;\n\t\t\twatcher.on(\"change\", (type, filename) => {\n\t\t\t\tif (!filename) {\n\t\t\t\t\tif (recursiveWatcherLogging) {\n\t\t\t\t\t\tprocess.stderr.write(\n\t\t\t\t\t\t\t`[watchpack] dispatch ${type} event in recursive watcher (${\n\t\t\t\t\t\t\t\tthis.rootPath\n\t\t\t\t\t\t\t}) to all watchers\\n`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tfor (const w of this.mapWatcherToPath.keys()) {\n\t\t\t\t\t\tw.emit(\"change\", type);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst dir = path.dirname(filename);\n\t\t\t\t\tconst watchers = this.mapPathToWatchers.get(dir);\n\t\t\t\t\tif (recursiveWatcherLogging) {\n\t\t\t\t\t\tprocess.stderr.write(\n\t\t\t\t\t\t\t`[watchpack] dispatch ${type} event in recursive watcher (${\n\t\t\t\t\t\t\t\tthis.rootPath\n\t\t\t\t\t\t\t}) for '${filename}' to ${\n\t\t\t\t\t\t\t\twatchers ? watchers.size : 0\n\t\t\t\t\t\t\t} watchers\\n`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (watchers === undefined) return;\n\t\t\t\t\tfor (const w of watchers) {\n\t\t\t\t\t\tw.emit(\"change\", type, path.basename(filename));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\twatcher.on(\"error\", error => {\n\t\t\t\tfor (const w of this.mapWatcherToPath.keys()) {\n\t\t\t\t\tw.emit(\"error\", error);\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(() => {\n\t\t\t\tfor (const w of this.mapWatcherToPath.keys()) {\n\t\t\t\t\tw.emit(\"error\", err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\twatcherCount++;\n\t\tif (recursiveWatcherLogging) {\n\t\t\tprocess.stderr.write(\n\t\t\t\t`[watchpack] created recursive watcher at ${rootPath}\\n`\n\t\t\t);\n\t\t}\n\t}\n\n\tadd(filePath, watcher) {\n\t\tunderlyingWatcher.set(watcher, this);\n\t\tconst subpath = filePath.slice(this.rootPath.length + 1) || \".\";\n\t\tthis.mapWatcherToPath.set(watcher, subpath);\n\t\tconst set = this.mapPathToWatchers.get(subpath);\n\t\tif (set === undefined) {\n\t\t\tconst newSet = new Set();\n\t\t\tnewSet.add(watcher);\n\t\t\tthis.mapPathToWatchers.set(subpath, newSet);\n\t\t} else {\n\t\t\tset.add(watcher);\n\t\t}\n\t}\n\n\tremove(watcher) {\n\t\tconst subpath = this.mapWatcherToPath.get(watcher);\n\t\tif (!subpath) return;\n\t\tthis.mapWatcherToPath.delete(watcher);\n\t\tconst set = this.mapPathToWatchers.get(subpath);\n\t\tset.delete(watcher);\n\t\tif (set.size === 0) {\n\t\t\tthis.mapPathToWatchers.delete(subpath);\n\t\t}\n\t\tif (this.mapWatcherToPath.size === 0) {\n\t\t\trecursiveWatchers.delete(this.rootPath);\n\t\t\twatcherCount--;\n\t\t\tif (this.watcher) this.watcher.close();\n\t\t\tif (recursiveWatcherLogging) {\n\t\t\t\tprocess.stderr.write(\n\t\t\t\t\t`[watchpack] closed recursive watcher at ${this.rootPath}\\n`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetWatchers() {\n\t\treturn this.mapWatcherToPath;\n\t}\n}\n\nclass Watcher extends EventEmitter {\n\tclose() {\n\t\tif (pendingWatchers.has(this)) {\n\t\t\tpendingWatchers.delete(this);\n\t\t\treturn;\n\t\t}\n\t\tconst watcher = underlyingWatcher.get(this);\n\t\twatcher.remove(this);\n\t\tunderlyingWatcher.delete(this);\n\t}\n}\n\nconst createDirectWatcher = filePath => {\n\tconst existing = directWatchers.get(filePath);\n\tif (existing !== undefined) return existing;\n\tconst w = new DirectWatcher(filePath);\n\tdirectWatchers.set(filePath, w);\n\treturn w;\n};\n\nconst createRecursiveWatcher = rootPath => {\n\tconst existing = recursiveWatchers.get(rootPath);\n\tif (existing !== undefined) return existing;\n\tconst w = new RecursiveWatcher(rootPath);\n\trecursiveWatchers.set(rootPath, w);\n\treturn w;\n};\n\nconst execute = () => {\n\t/** @type {Map<string, Watcher[] | Watcher>} */\n\tconst map = new Map();\n\tconst addWatcher = (watcher, filePath) => {\n\t\tconst entry = map.get(filePath);\n\t\tif (entry === undefined) {\n\t\t\tmap.set(filePath, watcher);\n\t\t} else if (Array.isArray(entry)) {\n\t\t\tentry.push(watcher);\n\t\t} else {\n\t\t\tmap.set(filePath, [entry, watcher]);\n\t\t}\n\t};\n\tfor (const [watcher, filePath] of pendingWatchers) {\n\t\taddWatcher(watcher, filePath);\n\t}\n\tpendingWatchers.clear();\n\n\t// Fast case when we are not reaching the limit\n\tif (!SUPPORTS_RECURSIVE_WATCHING || watcherLimit - watcherCount >= map.size) {\n\t\t// Create watchers for all entries in the map\n\t\tfor (const [filePath, entry] of map) {\n\t\t\tconst w = createDirectWatcher(filePath);\n\t\t\tif (Array.isArray(entry)) {\n\t\t\t\tfor (const item of entry) w.add(item);\n\t\t\t} else {\n\t\t\t\tw.add(entry);\n\t\t\t}\n\t\t}\n\t\treturn;\n\t}\n\n\t// Reconsider existing watchers to improving watch plan\n\tfor (const watcher of recursiveWatchers.values()) {\n\t\tfor (const [w, subpath] of watcher.getWatchers()) {\n\t\t\taddWatcher(w, path.join(watcher.rootPath, subpath));\n\t\t}\n\t}\n\tfor (const watcher of directWatchers.values()) {\n\t\tfor (const w of watcher.getWatchers()) {\n\t\t\taddWatcher(w, watcher.filePath);\n\t\t}\n\t}\n\n\t// Merge map entries to keep watcher limit\n\t// Create a 10% buffer to be able to enter fast case more often\n\tconst plan = reducePlan(map, watcherLimit * 0.9);\n\n\t// Update watchers for all entries in the map\n\tfor (const [filePath, entry] of plan) {\n\t\tif (entry.size === 1) {\n\t\t\tfor (const [watcher, filePath] of entry) {\n\t\t\t\tconst w = createDirectWatcher(filePath);\n\t\t\t\tconst old = underlyingWatcher.get(watcher);\n\t\t\t\tif (old === w) continue;\n\t\t\t\tw.add(watcher);\n\t\t\t\tif (old !== undefined) old.remove(watcher);\n\t\t\t}\n\t\t} else {\n\t\t\tconst filePaths = new Set(entry.values());\n\t\t\tif (filePaths.size > 1) {\n\t\t\t\tconst w = createRecursiveWatcher(filePath);\n\t\t\t\tfor (const [watcher, watcherPath] of entry) {\n\t\t\t\t\tconst old = underlyingWatcher.get(watcher);\n\t\t\t\t\tif (old === w) continue;\n\t\t\t\t\tw.add(watcherPath, watcher);\n\t\t\t\t\tif (old !== undefined) old.remove(watcher);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const filePath of filePaths) {\n\t\t\t\t\tconst w = createDirectWatcher(filePath);\n\t\t\t\t\tfor (const watcher of entry.keys()) {\n\t\t\t\t\t\tconst old = underlyingWatcher.get(watcher);\n\t\t\t\t\t\tif (old === w) continue;\n\t\t\t\t\t\tw.add(watcher);\n\t\t\t\t\t\tif (old !== undefined) old.remove(watcher);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nexports.watch = filePath => {\n\tconst watcher = new Watcher();\n\t// Find an existing watcher\n\tconst directWatcher = directWatchers.get(filePath);\n\tif (directWatcher !== undefined) {\n\t\tdirectWatcher.add(watcher);\n\t\treturn watcher;\n\t}\n\tlet current = filePath;\n\tfor (;;) {\n\t\tconst recursiveWatcher = recursiveWatchers.get(current);\n\t\tif (recursiveWatcher !== undefined) {\n\t\t\trecursiveWatcher.add(filePath, watcher);\n\t\t\treturn watcher;\n\t\t}\n\t\tconst parent = path.dirname(current);\n\t\tif (parent === current) break;\n\t\tcurrent = parent;\n\t}\n\t// Queue up watcher for creation\n\tpendingWatchers.set(watcher, filePath);\n\tif (!isBatch) execute();\n\treturn watcher;\n};\n\nexports.batch = fn => {\n\tisBatch = true;\n\ttry {\n\t\tfn();\n\t} finally {\n\t\tisBatch = false;\n\t\texecute();\n\t}\n};\n\nexports.getNumberOfWatchers = () => {\n\treturn watcherCount;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2F0Y2hwYWNrL2xpYi93YXRjaEV2ZW50U291cmNlLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRWIsV0FBVyxtQkFBTyxDQUFDLGlJQUFJO0FBQ3ZCLGFBQWEsbUJBQU8sQ0FBQyxtSUFBTTtBQUMzQixRQUFRLGVBQWUsRUFBRSxtQkFBTyxDQUFDLCtDQUFRO0FBQ3pDLG1CQUFtQixtQkFBTyxDQUFDLGdFQUFjOztBQUV6QyxlQUFlLDBJQUFzQjtBQUNyQyxlQUFlLDBJQUFzQjtBQUNyQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxXQUFXLHNCQUFzQjtBQUNqQzs7QUFFQSxXQUFXLCtCQUErQjtBQUMxQzs7QUFFQSxXQUFXLDRCQUE0QjtBQUN2Qzs7QUFFQSxXQUFXLGdEQUFnRDtBQUMzRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0JBQXNCO0FBQ25DO0FBQ0EsYUFBYSwyQkFBMkI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLE1BQU07QUFDckM7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixNQUFNO0FBQ3JDO0FBQ0EsUUFBUSxTQUFTLFNBQVM7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFNBQVM7QUFDekQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGNBQWM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVksa0NBQWtDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNvbW0tbGV2aXR5Ly4vbm9kZV9tb2R1bGVzL3dhdGNocGFjay9saWIvd2F0Y2hFdmVudFNvdXJjZS5qcz84YmZiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5jb25zdCB7IEV2ZW50RW1pdHRlciB9ID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbmNvbnN0IHJlZHVjZVBsYW4gPSByZXF1aXJlKFwiLi9yZWR1Y2VQbGFuXCIpO1xuXG5jb25zdCBJU19PU1ggPSByZXF1aXJlKFwib3NcIikucGxhdGZvcm0oKSA9PT0gXCJkYXJ3aW5cIjtcbmNvbnN0IElTX1dJTiA9IHJlcXVpcmUoXCJvc1wiKS5wbGF0Zm9ybSgpID09PSBcIndpbjMyXCI7XG5jb25zdCBTVVBQT1JUU19SRUNVUlNJVkVfV0FUQ0hJTkcgPSBJU19PU1ggfHwgSVNfV0lOO1xuXG5jb25zdCB3YXRjaGVyTGltaXQgPVxuXHQrcHJvY2Vzcy5lbnYuV0FUQ0hQQUNLX1dBVENIRVJfTElNSVQgfHwgKElTX09TWCA/IDIwMDAgOiAxMDAwMCk7XG5cbmNvbnN0IHJlY3Vyc2l2ZVdhdGNoZXJMb2dnaW5nID0gISFwcm9jZXNzLmVudlxuXHQuV0FUQ0hQQUNLX1JFQ1VSU0lWRV9XQVRDSEVSX0xPR0dJTkc7XG5cbmxldCBpc0JhdGNoID0gZmFsc2U7XG5sZXQgd2F0Y2hlckNvdW50ID0gMDtcblxuLyoqIEB0eXBlIHtNYXA8V2F0Y2hlciwgc3RyaW5nPn0gKi9cbmNvbnN0IHBlbmRpbmdXYXRjaGVycyA9IG5ldyBNYXAoKTtcblxuLyoqIEB0eXBlIHtNYXA8c3RyaW5nLCBSZWN1cnNpdmVXYXRjaGVyPn0gKi9cbmNvbnN0IHJlY3Vyc2l2ZVdhdGNoZXJzID0gbmV3IE1hcCgpO1xuXG4vKiogQHR5cGUge01hcDxzdHJpbmcsIERpcmVjdFdhdGNoZXI+fSAqL1xuY29uc3QgZGlyZWN0V2F0Y2hlcnMgPSBuZXcgTWFwKCk7XG5cbi8qKiBAdHlwZSB7TWFwPFdhdGNoZXIsIFJlY3Vyc2l2ZVdhdGNoZXIgfCBEaXJlY3RXYXRjaGVyPn0gKi9cbmNvbnN0IHVuZGVybHlpbmdXYXRjaGVyID0gbmV3IE1hcCgpO1xuXG5jbGFzcyBEaXJlY3RXYXRjaGVyIHtcblx0Y29uc3RydWN0b3IoZmlsZVBhdGgpIHtcblx0XHR0aGlzLmZpbGVQYXRoID0gZmlsZVBhdGg7XG5cdFx0dGhpcy53YXRjaGVycyA9IG5ldyBTZXQoKTtcblx0XHR0aGlzLndhdGNoZXIgPSB1bmRlZmluZWQ7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHdhdGNoZXIgPSBmcy53YXRjaChmaWxlUGF0aCk7XG5cdFx0XHR0aGlzLndhdGNoZXIgPSB3YXRjaGVyO1xuXHRcdFx0d2F0Y2hlci5vbihcImNoYW5nZVwiLCAodHlwZSwgZmlsZW5hbWUpID0+IHtcblx0XHRcdFx0Zm9yIChjb25zdCB3IG9mIHRoaXMud2F0Y2hlcnMpIHtcblx0XHRcdFx0XHR3LmVtaXQoXCJjaGFuZ2VcIiwgdHlwZSwgZmlsZW5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHdhdGNoZXIub24oXCJlcnJvclwiLCBlcnJvciA9PiB7XG5cdFx0XHRcdGZvciAoY29uc3QgdyBvZiB0aGlzLndhdGNoZXJzKSB7XG5cdFx0XHRcdFx0dy5lbWl0KFwiZXJyb3JcIiwgZXJyb3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHcgb2YgdGhpcy53YXRjaGVycykge1xuXHRcdFx0XHRcdHcuZW1pdChcImVycm9yXCIsIGVycik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0XHR3YXRjaGVyQ291bnQrKztcblx0fVxuXG5cdGFkZCh3YXRjaGVyKSB7XG5cdFx0dW5kZXJseWluZ1dhdGNoZXIuc2V0KHdhdGNoZXIsIHRoaXMpO1xuXHRcdHRoaXMud2F0Y2hlcnMuYWRkKHdhdGNoZXIpO1xuXHR9XG5cblx0cmVtb3ZlKHdhdGNoZXIpIHtcblx0XHR0aGlzLndhdGNoZXJzLmRlbGV0ZSh3YXRjaGVyKTtcblx0XHRpZiAodGhpcy53YXRjaGVycy5zaXplID09PSAwKSB7XG5cdFx0XHRkaXJlY3RXYXRjaGVycy5kZWxldGUodGhpcy5maWxlUGF0aCk7XG5cdFx0XHR3YXRjaGVyQ291bnQtLTtcblx0XHRcdGlmICh0aGlzLndhdGNoZXIpIHRoaXMud2F0Y2hlci5jbG9zZSgpO1xuXHRcdH1cblx0fVxuXG5cdGdldFdhdGNoZXJzKCkge1xuXHRcdHJldHVybiB0aGlzLndhdGNoZXJzO1xuXHR9XG59XG5cbmNsYXNzIFJlY3Vyc2l2ZVdhdGNoZXIge1xuXHRjb25zdHJ1Y3Rvcihyb290UGF0aCkge1xuXHRcdHRoaXMucm9vdFBhdGggPSByb290UGF0aDtcblx0XHQvKiogQHR5cGUge01hcDxXYXRjaGVyLCBzdHJpbmc+fSAqL1xuXHRcdHRoaXMubWFwV2F0Y2hlclRvUGF0aCA9IG5ldyBNYXAoKTtcblx0XHQvKiogQHR5cGUge01hcDxzdHJpbmcsIFNldDxXYXRjaGVyPj59ICovXG5cdFx0dGhpcy5tYXBQYXRoVG9XYXRjaGVycyA9IG5ldyBNYXAoKTtcblx0XHR0aGlzLndhdGNoZXIgPSB1bmRlZmluZWQ7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHdhdGNoZXIgPSBmcy53YXRjaChyb290UGF0aCwge1xuXHRcdFx0XHRyZWN1cnNpdmU6IHRydWVcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy53YXRjaGVyID0gd2F0Y2hlcjtcblx0XHRcdHdhdGNoZXIub24oXCJjaGFuZ2VcIiwgKHR5cGUsIGZpbGVuYW1lKSA9PiB7XG5cdFx0XHRcdGlmICghZmlsZW5hbWUpIHtcblx0XHRcdFx0XHRpZiAocmVjdXJzaXZlV2F0Y2hlckxvZ2dpbmcpIHtcblx0XHRcdFx0XHRcdHByb2Nlc3Muc3RkZXJyLndyaXRlKFxuXHRcdFx0XHRcdFx0XHRgW3dhdGNocGFja10gZGlzcGF0Y2ggJHt0eXBlfSBldmVudCBpbiByZWN1cnNpdmUgd2F0Y2hlciAoJHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnJvb3RQYXRoXG5cdFx0XHRcdFx0XHRcdH0pIHRvIGFsbCB3YXRjaGVyc1xcbmBcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZvciAoY29uc3QgdyBvZiB0aGlzLm1hcFdhdGNoZXJUb1BhdGgua2V5cygpKSB7XG5cdFx0XHRcdFx0XHR3LmVtaXQoXCJjaGFuZ2VcIiwgdHlwZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShmaWxlbmFtZSk7XG5cdFx0XHRcdFx0Y29uc3Qgd2F0Y2hlcnMgPSB0aGlzLm1hcFBhdGhUb1dhdGNoZXJzLmdldChkaXIpO1xuXHRcdFx0XHRcdGlmIChyZWN1cnNpdmVXYXRjaGVyTG9nZ2luZykge1xuXHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGRlcnIud3JpdGUoXG5cdFx0XHRcdFx0XHRcdGBbd2F0Y2hwYWNrXSBkaXNwYXRjaCAke3R5cGV9IGV2ZW50IGluIHJlY3Vyc2l2ZSB3YXRjaGVyICgke1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucm9vdFBhdGhcblx0XHRcdFx0XHRcdFx0fSkgZm9yICcke2ZpbGVuYW1lfScgdG8gJHtcblx0XHRcdFx0XHRcdFx0XHR3YXRjaGVycyA/IHdhdGNoZXJzLnNpemUgOiAwXG5cdFx0XHRcdFx0XHRcdH0gd2F0Y2hlcnNcXG5gXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAod2F0Y2hlcnMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXHRcdFx0XHRcdGZvciAoY29uc3QgdyBvZiB3YXRjaGVycykge1xuXHRcdFx0XHRcdFx0dy5lbWl0KFwiY2hhbmdlXCIsIHR5cGUsIHBhdGguYmFzZW5hbWUoZmlsZW5hbWUpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0d2F0Y2hlci5vbihcImVycm9yXCIsIGVycm9yID0+IHtcblx0XHRcdFx0Zm9yIChjb25zdCB3IG9mIHRoaXMubWFwV2F0Y2hlclRvUGF0aC5rZXlzKCkpIHtcblx0XHRcdFx0XHR3LmVtaXQoXCJlcnJvclwiLCBlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0cHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG5cdFx0XHRcdGZvciAoY29uc3QgdyBvZiB0aGlzLm1hcFdhdGNoZXJUb1BhdGgua2V5cygpKSB7XG5cdFx0XHRcdFx0dy5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHdhdGNoZXJDb3VudCsrO1xuXHRcdGlmIChyZWN1cnNpdmVXYXRjaGVyTG9nZ2luZykge1xuXHRcdFx0cHJvY2Vzcy5zdGRlcnIud3JpdGUoXG5cdFx0XHRcdGBbd2F0Y2hwYWNrXSBjcmVhdGVkIHJlY3Vyc2l2ZSB3YXRjaGVyIGF0ICR7cm9vdFBhdGh9XFxuYFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRhZGQoZmlsZVBhdGgsIHdhdGNoZXIpIHtcblx0XHR1bmRlcmx5aW5nV2F0Y2hlci5zZXQod2F0Y2hlciwgdGhpcyk7XG5cdFx0Y29uc3Qgc3VicGF0aCA9IGZpbGVQYXRoLnNsaWNlKHRoaXMucm9vdFBhdGgubGVuZ3RoICsgMSkgfHwgXCIuXCI7XG5cdFx0dGhpcy5tYXBXYXRjaGVyVG9QYXRoLnNldCh3YXRjaGVyLCBzdWJwYXRoKTtcblx0XHRjb25zdCBzZXQgPSB0aGlzLm1hcFBhdGhUb1dhdGNoZXJzLmdldChzdWJwYXRoKTtcblx0XHRpZiAoc2V0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IG5ld1NldCA9IG5ldyBTZXQoKTtcblx0XHRcdG5ld1NldC5hZGQod2F0Y2hlcik7XG5cdFx0XHR0aGlzLm1hcFBhdGhUb1dhdGNoZXJzLnNldChzdWJwYXRoLCBuZXdTZXQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZXQuYWRkKHdhdGNoZXIpO1xuXHRcdH1cblx0fVxuXG5cdHJlbW92ZSh3YXRjaGVyKSB7XG5cdFx0Y29uc3Qgc3VicGF0aCA9IHRoaXMubWFwV2F0Y2hlclRvUGF0aC5nZXQod2F0Y2hlcik7XG5cdFx0aWYgKCFzdWJwYXRoKSByZXR1cm47XG5cdFx0dGhpcy5tYXBXYXRjaGVyVG9QYXRoLmRlbGV0ZSh3YXRjaGVyKTtcblx0XHRjb25zdCBzZXQgPSB0aGlzLm1hcFBhdGhUb1dhdGNoZXJzLmdldChzdWJwYXRoKTtcblx0XHRzZXQuZGVsZXRlKHdhdGNoZXIpO1xuXHRcdGlmIChzZXQuc2l6ZSA9PT0gMCkge1xuXHRcdFx0dGhpcy5tYXBQYXRoVG9XYXRjaGVycy5kZWxldGUoc3VicGF0aCk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLm1hcFdhdGNoZXJUb1BhdGguc2l6ZSA9PT0gMCkge1xuXHRcdFx0cmVjdXJzaXZlV2F0Y2hlcnMuZGVsZXRlKHRoaXMucm9vdFBhdGgpO1xuXHRcdFx0d2F0Y2hlckNvdW50LS07XG5cdFx0XHRpZiAodGhpcy53YXRjaGVyKSB0aGlzLndhdGNoZXIuY2xvc2UoKTtcblx0XHRcdGlmIChyZWN1cnNpdmVXYXRjaGVyTG9nZ2luZykge1xuXHRcdFx0XHRwcm9jZXNzLnN0ZGVyci53cml0ZShcblx0XHRcdFx0XHRgW3dhdGNocGFja10gY2xvc2VkIHJlY3Vyc2l2ZSB3YXRjaGVyIGF0ICR7dGhpcy5yb290UGF0aH1cXG5gXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Z2V0V2F0Y2hlcnMoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwV2F0Y2hlclRvUGF0aDtcblx0fVxufVxuXG5jbGFzcyBXYXRjaGVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcblx0Y2xvc2UoKSB7XG5cdFx0aWYgKHBlbmRpbmdXYXRjaGVycy5oYXModGhpcykpIHtcblx0XHRcdHBlbmRpbmdXYXRjaGVycy5kZWxldGUodGhpcyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IHdhdGNoZXIgPSB1bmRlcmx5aW5nV2F0Y2hlci5nZXQodGhpcyk7XG5cdFx0d2F0Y2hlci5yZW1vdmUodGhpcyk7XG5cdFx0dW5kZXJseWluZ1dhdGNoZXIuZGVsZXRlKHRoaXMpO1xuXHR9XG59XG5cbmNvbnN0IGNyZWF0ZURpcmVjdFdhdGNoZXIgPSBmaWxlUGF0aCA9PiB7XG5cdGNvbnN0IGV4aXN0aW5nID0gZGlyZWN0V2F0Y2hlcnMuZ2V0KGZpbGVQYXRoKTtcblx0aWYgKGV4aXN0aW5nICE9PSB1bmRlZmluZWQpIHJldHVybiBleGlzdGluZztcblx0Y29uc3QgdyA9IG5ldyBEaXJlY3RXYXRjaGVyKGZpbGVQYXRoKTtcblx0ZGlyZWN0V2F0Y2hlcnMuc2V0KGZpbGVQYXRoLCB3KTtcblx0cmV0dXJuIHc7XG59O1xuXG5jb25zdCBjcmVhdGVSZWN1cnNpdmVXYXRjaGVyID0gcm9vdFBhdGggPT4ge1xuXHRjb25zdCBleGlzdGluZyA9IHJlY3Vyc2l2ZVdhdGNoZXJzLmdldChyb290UGF0aCk7XG5cdGlmIChleGlzdGluZyAhPT0gdW5kZWZpbmVkKSByZXR1cm4gZXhpc3Rpbmc7XG5cdGNvbnN0IHcgPSBuZXcgUmVjdXJzaXZlV2F0Y2hlcihyb290UGF0aCk7XG5cdHJlY3Vyc2l2ZVdhdGNoZXJzLnNldChyb290UGF0aCwgdyk7XG5cdHJldHVybiB3O1xufTtcblxuY29uc3QgZXhlY3V0ZSA9ICgpID0+IHtcblx0LyoqIEB0eXBlIHtNYXA8c3RyaW5nLCBXYXRjaGVyW10gfCBXYXRjaGVyPn0gKi9cblx0Y29uc3QgbWFwID0gbmV3IE1hcCgpO1xuXHRjb25zdCBhZGRXYXRjaGVyID0gKHdhdGNoZXIsIGZpbGVQYXRoKSA9PiB7XG5cdFx0Y29uc3QgZW50cnkgPSBtYXAuZ2V0KGZpbGVQYXRoKTtcblx0XHRpZiAoZW50cnkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0bWFwLnNldChmaWxlUGF0aCwgd2F0Y2hlcik7XG5cdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVudHJ5KSkge1xuXHRcdFx0ZW50cnkucHVzaCh3YXRjaGVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWFwLnNldChmaWxlUGF0aCwgW2VudHJ5LCB3YXRjaGVyXSk7XG5cdFx0fVxuXHR9O1xuXHRmb3IgKGNvbnN0IFt3YXRjaGVyLCBmaWxlUGF0aF0gb2YgcGVuZGluZ1dhdGNoZXJzKSB7XG5cdFx0YWRkV2F0Y2hlcih3YXRjaGVyLCBmaWxlUGF0aCk7XG5cdH1cblx0cGVuZGluZ1dhdGNoZXJzLmNsZWFyKCk7XG5cblx0Ly8gRmFzdCBjYXNlIHdoZW4gd2UgYXJlIG5vdCByZWFjaGluZyB0aGUgbGltaXRcblx0aWYgKCFTVVBQT1JUU19SRUNVUlNJVkVfV0FUQ0hJTkcgfHwgd2F0Y2hlckxpbWl0IC0gd2F0Y2hlckNvdW50ID49IG1hcC5zaXplKSB7XG5cdFx0Ly8gQ3JlYXRlIHdhdGNoZXJzIGZvciBhbGwgZW50cmllcyBpbiB0aGUgbWFwXG5cdFx0Zm9yIChjb25zdCBbZmlsZVBhdGgsIGVudHJ5XSBvZiBtYXApIHtcblx0XHRcdGNvbnN0IHcgPSBjcmVhdGVEaXJlY3RXYXRjaGVyKGZpbGVQYXRoKTtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGVudHJ5KSkge1xuXHRcdFx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgZW50cnkpIHcuYWRkKGl0ZW0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dy5hZGQoZW50cnkpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBSZWNvbnNpZGVyIGV4aXN0aW5nIHdhdGNoZXJzIHRvIGltcHJvdmluZyB3YXRjaCBwbGFuXG5cdGZvciAoY29uc3Qgd2F0Y2hlciBvZiByZWN1cnNpdmVXYXRjaGVycy52YWx1ZXMoKSkge1xuXHRcdGZvciAoY29uc3QgW3csIHN1YnBhdGhdIG9mIHdhdGNoZXIuZ2V0V2F0Y2hlcnMoKSkge1xuXHRcdFx0YWRkV2F0Y2hlcih3LCBwYXRoLmpvaW4od2F0Y2hlci5yb290UGF0aCwgc3VicGF0aCkpO1xuXHRcdH1cblx0fVxuXHRmb3IgKGNvbnN0IHdhdGNoZXIgb2YgZGlyZWN0V2F0Y2hlcnMudmFsdWVzKCkpIHtcblx0XHRmb3IgKGNvbnN0IHcgb2Ygd2F0Y2hlci5nZXRXYXRjaGVycygpKSB7XG5cdFx0XHRhZGRXYXRjaGVyKHcsIHdhdGNoZXIuZmlsZVBhdGgpO1xuXHRcdH1cblx0fVxuXG5cdC8vIE1lcmdlIG1hcCBlbnRyaWVzIHRvIGtlZXAgd2F0Y2hlciBsaW1pdFxuXHQvLyBDcmVhdGUgYSAxMCUgYnVmZmVyIHRvIGJlIGFibGUgdG8gZW50ZXIgZmFzdCBjYXNlIG1vcmUgb2Z0ZW5cblx0Y29uc3QgcGxhbiA9IHJlZHVjZVBsYW4obWFwLCB3YXRjaGVyTGltaXQgKiAwLjkpO1xuXG5cdC8vIFVwZGF0ZSB3YXRjaGVycyBmb3IgYWxsIGVudHJpZXMgaW4gdGhlIG1hcFxuXHRmb3IgKGNvbnN0IFtmaWxlUGF0aCwgZW50cnldIG9mIHBsYW4pIHtcblx0XHRpZiAoZW50cnkuc2l6ZSA9PT0gMSkge1xuXHRcdFx0Zm9yIChjb25zdCBbd2F0Y2hlciwgZmlsZVBhdGhdIG9mIGVudHJ5KSB7XG5cdFx0XHRcdGNvbnN0IHcgPSBjcmVhdGVEaXJlY3RXYXRjaGVyKGZpbGVQYXRoKTtcblx0XHRcdFx0Y29uc3Qgb2xkID0gdW5kZXJseWluZ1dhdGNoZXIuZ2V0KHdhdGNoZXIpO1xuXHRcdFx0XHRpZiAob2xkID09PSB3KSBjb250aW51ZTtcblx0XHRcdFx0dy5hZGQod2F0Y2hlcik7XG5cdFx0XHRcdGlmIChvbGQgIT09IHVuZGVmaW5lZCkgb2xkLnJlbW92ZSh3YXRjaGVyKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgZmlsZVBhdGhzID0gbmV3IFNldChlbnRyeS52YWx1ZXMoKSk7XG5cdFx0XHRpZiAoZmlsZVBhdGhzLnNpemUgPiAxKSB7XG5cdFx0XHRcdGNvbnN0IHcgPSBjcmVhdGVSZWN1cnNpdmVXYXRjaGVyKGZpbGVQYXRoKTtcblx0XHRcdFx0Zm9yIChjb25zdCBbd2F0Y2hlciwgd2F0Y2hlclBhdGhdIG9mIGVudHJ5KSB7XG5cdFx0XHRcdFx0Y29uc3Qgb2xkID0gdW5kZXJseWluZ1dhdGNoZXIuZ2V0KHdhdGNoZXIpO1xuXHRcdFx0XHRcdGlmIChvbGQgPT09IHcpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdHcuYWRkKHdhdGNoZXJQYXRoLCB3YXRjaGVyKTtcblx0XHRcdFx0XHRpZiAob2xkICE9PSB1bmRlZmluZWQpIG9sZC5yZW1vdmUod2F0Y2hlcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoY29uc3QgZmlsZVBhdGggb2YgZmlsZVBhdGhzKSB7XG5cdFx0XHRcdFx0Y29uc3QgdyA9IGNyZWF0ZURpcmVjdFdhdGNoZXIoZmlsZVBhdGgpO1xuXHRcdFx0XHRcdGZvciAoY29uc3Qgd2F0Y2hlciBvZiBlbnRyeS5rZXlzKCkpIHtcblx0XHRcdFx0XHRcdGNvbnN0IG9sZCA9IHVuZGVybHlpbmdXYXRjaGVyLmdldCh3YXRjaGVyKTtcblx0XHRcdFx0XHRcdGlmIChvbGQgPT09IHcpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0dy5hZGQod2F0Y2hlcik7XG5cdFx0XHRcdFx0XHRpZiAob2xkICE9PSB1bmRlZmluZWQpIG9sZC5yZW1vdmUod2F0Y2hlcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG5leHBvcnRzLndhdGNoID0gZmlsZVBhdGggPT4ge1xuXHRjb25zdCB3YXRjaGVyID0gbmV3IFdhdGNoZXIoKTtcblx0Ly8gRmluZCBhbiBleGlzdGluZyB3YXRjaGVyXG5cdGNvbnN0IGRpcmVjdFdhdGNoZXIgPSBkaXJlY3RXYXRjaGVycy5nZXQoZmlsZVBhdGgpO1xuXHRpZiAoZGlyZWN0V2F0Y2hlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0ZGlyZWN0V2F0Y2hlci5hZGQod2F0Y2hlcik7XG5cdFx0cmV0dXJuIHdhdGNoZXI7XG5cdH1cblx0bGV0IGN1cnJlbnQgPSBmaWxlUGF0aDtcblx0Zm9yICg7Oykge1xuXHRcdGNvbnN0IHJlY3Vyc2l2ZVdhdGNoZXIgPSByZWN1cnNpdmVXYXRjaGVycy5nZXQoY3VycmVudCk7XG5cdFx0aWYgKHJlY3Vyc2l2ZVdhdGNoZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmVjdXJzaXZlV2F0Y2hlci5hZGQoZmlsZVBhdGgsIHdhdGNoZXIpO1xuXHRcdFx0cmV0dXJuIHdhdGNoZXI7XG5cdFx0fVxuXHRcdGNvbnN0IHBhcmVudCA9IHBhdGguZGlybmFtZShjdXJyZW50KTtcblx0XHRpZiAocGFyZW50ID09PSBjdXJyZW50KSBicmVhaztcblx0XHRjdXJyZW50ID0gcGFyZW50O1xuXHR9XG5cdC8vIFF1ZXVlIHVwIHdhdGNoZXIgZm9yIGNyZWF0aW9uXG5cdHBlbmRpbmdXYXRjaGVycy5zZXQod2F0Y2hlciwgZmlsZVBhdGgpO1xuXHRpZiAoIWlzQmF0Y2gpIGV4ZWN1dGUoKTtcblx0cmV0dXJuIHdhdGNoZXI7XG59O1xuXG5leHBvcnRzLmJhdGNoID0gZm4gPT4ge1xuXHRpc0JhdGNoID0gdHJ1ZTtcblx0dHJ5IHtcblx0XHRmbigpO1xuXHR9IGZpbmFsbHkge1xuXHRcdGlzQmF0Y2ggPSBmYWxzZTtcblx0XHRleGVjdXRlKCk7XG5cdH1cbn07XG5cbmV4cG9ydHMuZ2V0TnVtYmVyT2ZXYXRjaGVycyA9ICgpID0+IHtcblx0cmV0dXJuIHdhdGNoZXJDb3VudDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/watchpack/lib/watchEventSource.js\n");

/***/ }),

/***/ "./node_modules/watchpack/lib/watchpack.js":
/*!*************************************************!*\
  !*** ./node_modules/watchpack/lib/watchpack.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\nconst getWatcherManager = __webpack_require__(/*! ./getWatcherManager */ \"./node_modules/watchpack/lib/getWatcherManager.js\");\nconst LinkResolver = __webpack_require__(/*! ./LinkResolver */ \"./node_modules/watchpack/lib/LinkResolver.js\");\nconst EventEmitter = __webpack_require__(/*! events */ \"./node_modules/events/events.js\").EventEmitter;\nconst globToRegExp = __webpack_require__(/*! glob-to-regexp */ \"./node_modules/glob-to-regexp/index.js\");\nconst watchEventSource = __webpack_require__(/*! ./watchEventSource */ \"./node_modules/watchpack/lib/watchEventSource.js\");\n\nlet EXISTANCE_ONLY_TIME_ENTRY; // lazy required\n\nconst EMPTY_ARRAY = [];\nconst EMPTY_OPTIONS = {};\n\nfunction addWatchersToSet(watchers, set) {\n\tfor (const w of watchers) {\n\t\tif (w !== true && !set.has(w.directoryWatcher)) {\n\t\t\tset.add(w.directoryWatcher);\n\t\t\taddWatchersToSet(w.directoryWatcher.directories.values(), set);\n\t\t}\n\t}\n}\n\nconst stringToRegexp = ignored => {\n\tconst source = globToRegExp(ignored, { globstar: true, extended: true })\n\t\t.source;\n\tconst matchingStart = source.slice(0, source.length - 1) + \"(?:$|\\\\/)\";\n\treturn matchingStart;\n};\n\nconst ignoredToRegexp = ignored => {\n\tif (Array.isArray(ignored)) {\n\t\treturn new RegExp(ignored.map(i => stringToRegexp(i)).join(\"|\"));\n\t} else if (typeof ignored === \"string\") {\n\t\treturn new RegExp(stringToRegexp(ignored));\n\t} else if (ignored instanceof RegExp) {\n\t\treturn ignored;\n\t} else if (ignored) {\n\t\tthrow new Error(`Invalid option for 'ignored': ${ignored}`);\n\t} else {\n\t\treturn undefined;\n\t}\n};\n\nconst normalizeOptions = options => {\n\treturn {\n\t\tfollowSymlinks: !!options.followSymlinks,\n\t\tignored: ignoredToRegexp(options.ignored),\n\t\tpoll: options.poll\n\t};\n};\n\nconst normalizeCache = new WeakMap();\nconst cachedNormalizeOptions = options => {\n\tconst cacheEntry = normalizeCache.get(options);\n\tif (cacheEntry !== undefined) return cacheEntry;\n\tconst normalized = normalizeOptions(options);\n\tnormalizeCache.set(options, normalized);\n\treturn normalized;\n};\n\nclass Watchpack extends EventEmitter {\n\tconstructor(options) {\n\t\tsuper();\n\t\tif (!options) options = EMPTY_OPTIONS;\n\t\tthis.options = options;\n\t\tthis.aggregateTimeout =\n\t\t\ttypeof options.aggregateTimeout === \"number\"\n\t\t\t\t? options.aggregateTimeout\n\t\t\t\t: 200;\n\t\tthis.watcherOptions = cachedNormalizeOptions(options);\n\t\tthis.watcherManager = getWatcherManager(this.watcherOptions);\n\t\tthis.fileWatchers = new Map();\n\t\tthis.directoryWatchers = new Map();\n\t\tthis.startTime = undefined;\n\t\tthis.paused = false;\n\t\tthis.aggregatedChanges = new Set();\n\t\tthis.aggregatedRemovals = new Set();\n\t\tthis.aggregateTimer = undefined;\n\t\tthis._onTimeout = this._onTimeout.bind(this);\n\t}\n\n\twatch(arg1, arg2, arg3) {\n\t\tlet files, directories, missing, startTime;\n\t\tif (!arg2) {\n\t\t\t({\n\t\t\t\tfiles = EMPTY_ARRAY,\n\t\t\t\tdirectories = EMPTY_ARRAY,\n\t\t\t\tmissing = EMPTY_ARRAY,\n\t\t\t\tstartTime\n\t\t\t} = arg1);\n\t\t} else {\n\t\t\tfiles = arg1;\n\t\t\tdirectories = arg2;\n\t\t\tmissing = EMPTY_ARRAY;\n\t\t\tstartTime = arg3;\n\t\t}\n\t\tthis.paused = false;\n\t\tconst oldFileWatchers = this.fileWatchers;\n\t\tconst oldDirectoryWatchers = this.directoryWatchers;\n\t\tconst ignored = this.watcherOptions.ignored;\n\t\tconst filter = ignored\n\t\t\t? path => !ignored.test(path.replace(/\\\\/g, \"/\"))\n\t\t\t: () => true;\n\t\tconst addToMap = (map, key, item) => {\n\t\t\tconst list = map.get(key);\n\t\t\tif (list === undefined) {\n\t\t\t\tmap.set(key, [item]);\n\t\t\t} else {\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t};\n\t\tconst fileWatchersNeeded = new Map();\n\t\tconst directoryWatchersNeeded = new Map();\n\t\tconst missingFiles = new Set();\n\t\tif (this.watcherOptions.followSymlinks) {\n\t\t\tconst resolver = new LinkResolver();\n\t\t\tfor (const file of files) {\n\t\t\t\tif (filter(file)) {\n\t\t\t\t\tfor (const innerFile of resolver.resolve(file)) {\n\t\t\t\t\t\tif (file === innerFile || filter(innerFile)) {\n\t\t\t\t\t\t\taddToMap(fileWatchersNeeded, innerFile, file);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const file of missing) {\n\t\t\t\tif (filter(file)) {\n\t\t\t\t\tfor (const innerFile of resolver.resolve(file)) {\n\t\t\t\t\t\tif (file === innerFile || filter(innerFile)) {\n\t\t\t\t\t\t\tmissingFiles.add(file);\n\t\t\t\t\t\t\taddToMap(fileWatchersNeeded, innerFile, file);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const dir of directories) {\n\t\t\t\tif (filter(dir)) {\n\t\t\t\t\tlet first = true;\n\t\t\t\t\tfor (const innerItem of resolver.resolve(dir)) {\n\t\t\t\t\t\tif (filter(innerItem)) {\n\t\t\t\t\t\t\taddToMap(\n\t\t\t\t\t\t\t\tfirst ? directoryWatchersNeeded : fileWatchersNeeded,\n\t\t\t\t\t\t\t\tinnerItem,\n\t\t\t\t\t\t\t\tdir\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfirst = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const file of files) {\n\t\t\t\tif (filter(file)) {\n\t\t\t\t\taddToMap(fileWatchersNeeded, file, file);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const file of missing) {\n\t\t\t\tif (filter(file)) {\n\t\t\t\t\tmissingFiles.add(file);\n\t\t\t\t\taddToMap(fileWatchersNeeded, file, file);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const dir of directories) {\n\t\t\t\tif (filter(dir)) {\n\t\t\t\t\taddToMap(directoryWatchersNeeded, dir, dir);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst newFileWatchers = new Map();\n\t\tconst newDirectoryWatchers = new Map();\n\t\tconst setupFileWatcher = (watcher, key, files) => {\n\t\t\twatcher.on(\"initial-missing\", type => {\n\t\t\t\tfor (const file of files) {\n\t\t\t\t\tif (!missingFiles.has(file)) this._onRemove(file, file, type);\n\t\t\t\t}\n\t\t\t});\n\t\t\twatcher.on(\"change\", (mtime, type) => {\n\t\t\t\tfor (const file of files) {\n\t\t\t\t\tthis._onChange(file, mtime, file, type);\n\t\t\t\t}\n\t\t\t});\n\t\t\twatcher.on(\"remove\", type => {\n\t\t\t\tfor (const file of files) {\n\t\t\t\t\tthis._onRemove(file, file, type);\n\t\t\t\t}\n\t\t\t});\n\t\t\tnewFileWatchers.set(key, watcher);\n\t\t};\n\t\tconst setupDirectoryWatcher = (watcher, key, directories) => {\n\t\t\twatcher.on(\"initial-missing\", type => {\n\t\t\t\tfor (const item of directories) {\n\t\t\t\t\tthis._onRemove(item, item, type);\n\t\t\t\t}\n\t\t\t});\n\t\t\twatcher.on(\"change\", (file, mtime, type) => {\n\t\t\t\tfor (const item of directories) {\n\t\t\t\t\tthis._onChange(item, mtime, file, type);\n\t\t\t\t}\n\t\t\t});\n\t\t\twatcher.on(\"remove\", type => {\n\t\t\t\tfor (const item of directories) {\n\t\t\t\t\tthis._onRemove(item, item, type);\n\t\t\t\t}\n\t\t\t});\n\t\t\tnewDirectoryWatchers.set(key, watcher);\n\t\t};\n\t\t// Close unneeded old watchers\n\t\tconst fileWatchersToClose = [];\n\t\tconst directoryWatchersToClose = [];\n\t\tfor (const [key, w] of oldFileWatchers) {\n\t\t\tif (!fileWatchersNeeded.has(key)) {\n\t\t\t\tw.close();\n\t\t\t} else {\n\t\t\t\tfileWatchersToClose.push(w);\n\t\t\t}\n\t\t}\n\t\tfor (const [key, w] of oldDirectoryWatchers) {\n\t\t\tif (!directoryWatchersNeeded.has(key)) {\n\t\t\t\tw.close();\n\t\t\t} else {\n\t\t\t\tdirectoryWatchersToClose.push(w);\n\t\t\t}\n\t\t}\n\t\t// Create new watchers and install handlers on these watchers\n\t\twatchEventSource.batch(() => {\n\t\t\tfor (const [key, files] of fileWatchersNeeded) {\n\t\t\t\tconst watcher = this.watcherManager.watchFile(key, startTime);\n\t\t\t\tif (watcher) {\n\t\t\t\t\tsetupFileWatcher(watcher, key, files);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const [key, directories] of directoryWatchersNeeded) {\n\t\t\t\tconst watcher = this.watcherManager.watchDirectory(key, startTime);\n\t\t\t\tif (watcher) {\n\t\t\t\t\tsetupDirectoryWatcher(watcher, key, directories);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// Close old watchers\n\t\tfor (const w of fileWatchersToClose) w.close();\n\t\tfor (const w of directoryWatchersToClose) w.close();\n\t\t// Store watchers\n\t\tthis.fileWatchers = newFileWatchers;\n\t\tthis.directoryWatchers = newDirectoryWatchers;\n\t\tthis.startTime = startTime;\n\t}\n\n\tclose() {\n\t\tthis.paused = true;\n\t\tif (this.aggregateTimer) clearTimeout(this.aggregateTimer);\n\t\tfor (const w of this.fileWatchers.values()) w.close();\n\t\tfor (const w of this.directoryWatchers.values()) w.close();\n\t\tthis.fileWatchers.clear();\n\t\tthis.directoryWatchers.clear();\n\t}\n\n\tpause() {\n\t\tthis.paused = true;\n\t\tif (this.aggregateTimer) clearTimeout(this.aggregateTimer);\n\t}\n\n\tgetTimes() {\n\t\tconst directoryWatchers = new Set();\n\t\taddWatchersToSet(this.fileWatchers.values(), directoryWatchers);\n\t\taddWatchersToSet(this.directoryWatchers.values(), directoryWatchers);\n\t\tconst obj = Object.create(null);\n\t\tfor (const w of directoryWatchers) {\n\t\t\tconst times = w.getTimes();\n\t\t\tfor (const file of Object.keys(times)) obj[file] = times[file];\n\t\t}\n\t\treturn obj;\n\t}\n\n\tgetTimeInfoEntries() {\n\t\tif (EXISTANCE_ONLY_TIME_ENTRY === undefined) {\n\t\t\tEXISTANCE_ONLY_TIME_ENTRY = __webpack_require__(/*! ./DirectoryWatcher */ \"./node_modules/watchpack/lib/DirectoryWatcher.js\").EXISTANCE_ONLY_TIME_ENTRY;\n\t\t}\n\t\tconst directoryWatchers = new Set();\n\t\taddWatchersToSet(this.fileWatchers.values(), directoryWatchers);\n\t\taddWatchersToSet(this.directoryWatchers.values(), directoryWatchers);\n\t\tconst map = new Map();\n\t\tfor (const w of directoryWatchers) {\n\t\t\tconst times = w.getTimeInfoEntries();\n\t\t\tfor (const [path, entry] of times) {\n\t\t\t\tif (map.has(path)) {\n\t\t\t\t\tif (entry === EXISTANCE_ONLY_TIME_ENTRY) continue;\n\t\t\t\t\tconst value = map.get(path);\n\t\t\t\t\tif (value === entry) continue;\n\t\t\t\t\tif (value !== EXISTANCE_ONLY_TIME_ENTRY) {\n\t\t\t\t\t\tmap.set(path, Object.assign({}, value, entry));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmap.set(path, entry);\n\t\t\t}\n\t\t}\n\t\treturn map;\n\t}\n\n\tgetAggregated() {\n\t\tif (this.aggregateTimer) {\n\t\t\tclearTimeout(this.aggregateTimer);\n\t\t\tthis.aggregateTimer = undefined;\n\t\t}\n\t\tconst changes = this.aggregatedChanges;\n\t\tconst removals = this.aggregatedRemovals;\n\t\tthis.aggregatedChanges = new Set();\n\t\tthis.aggregatedRemovals = new Set();\n\t\treturn { changes, removals };\n\t}\n\n\t_onChange(item, mtime, file, type) {\n\t\tfile = file || item;\n\t\tif (!this.paused) {\n\t\t\tthis.emit(\"change\", file, mtime, type);\n\t\t\tif (this.aggregateTimer) clearTimeout(this.aggregateTimer);\n\t\t\tthis.aggregateTimer = setTimeout(this._onTimeout, this.aggregateTimeout);\n\t\t}\n\t\tthis.aggregatedRemovals.delete(item);\n\t\tthis.aggregatedChanges.add(item);\n\t}\n\n\t_onRemove(item, file, type) {\n\t\tfile = file || item;\n\t\tif (!this.paused) {\n\t\t\tthis.emit(\"remove\", file, type);\n\t\t\tif (this.aggregateTimer) clearTimeout(this.aggregateTimer);\n\t\t\tthis.aggregateTimer = setTimeout(this._onTimeout, this.aggregateTimeout);\n\t\t}\n\t\tthis.aggregatedChanges.delete(item);\n\t\tthis.aggregatedRemovals.add(item);\n\t}\n\n\t_onTimeout() {\n\t\tthis.aggregateTimer = undefined;\n\t\tconst changes = this.aggregatedChanges;\n\t\tconst removals = this.aggregatedRemovals;\n\t\tthis.aggregatedChanges = new Set();\n\t\tthis.aggregatedRemovals = new Set();\n\t\tthis.emit(\"aggregated\", changes, removals);\n\t}\n}\n\nmodule.exports = Watchpack;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2F0Y2hwYWNrL2xpYi93YXRjaHBhY2suanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDYTs7QUFFYiwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBcUI7QUFDdkQscUJBQXFCLG1CQUFPLENBQUMsb0VBQWdCO0FBQzdDLHFCQUFxQixpRkFBOEI7QUFDbkQscUJBQXFCLG1CQUFPLENBQUMsOERBQWdCO0FBQzdDLHlCQUF5QixtQkFBTyxDQUFDLDRFQUFvQjs7QUFFckQsK0JBQStCOztBQUUvQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsZ0NBQWdDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCxtREFBbUQsUUFBUTtBQUMzRCxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQiwySEFDRDtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tbS1sZXZpdHkvLi9ub2RlX21vZHVsZXMvd2F0Y2hwYWNrL2xpYi93YXRjaHBhY2suanM/MTNjMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IGdldFdhdGNoZXJNYW5hZ2VyID0gcmVxdWlyZShcIi4vZ2V0V2F0Y2hlck1hbmFnZXJcIik7XG5jb25zdCBMaW5rUmVzb2x2ZXIgPSByZXF1aXJlKFwiLi9MaW5rUmVzb2x2ZXJcIik7XG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRzXCIpLkV2ZW50RW1pdHRlcjtcbmNvbnN0IGdsb2JUb1JlZ0V4cCA9IHJlcXVpcmUoXCJnbG9iLXRvLXJlZ2V4cFwiKTtcbmNvbnN0IHdhdGNoRXZlbnRTb3VyY2UgPSByZXF1aXJlKFwiLi93YXRjaEV2ZW50U291cmNlXCIpO1xuXG5sZXQgRVhJU1RBTkNFX09OTFlfVElNRV9FTlRSWTsgLy8gbGF6eSByZXF1aXJlZFxuXG5jb25zdCBFTVBUWV9BUlJBWSA9IFtdO1xuY29uc3QgRU1QVFlfT1BUSU9OUyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRXYXRjaGVyc1RvU2V0KHdhdGNoZXJzLCBzZXQpIHtcblx0Zm9yIChjb25zdCB3IG9mIHdhdGNoZXJzKSB7XG5cdFx0aWYgKHcgIT09IHRydWUgJiYgIXNldC5oYXMody5kaXJlY3RvcnlXYXRjaGVyKSkge1xuXHRcdFx0c2V0LmFkZCh3LmRpcmVjdG9yeVdhdGNoZXIpO1xuXHRcdFx0YWRkV2F0Y2hlcnNUb1NldCh3LmRpcmVjdG9yeVdhdGNoZXIuZGlyZWN0b3JpZXMudmFsdWVzKCksIHNldCk7XG5cdFx0fVxuXHR9XG59XG5cbmNvbnN0IHN0cmluZ1RvUmVnZXhwID0gaWdub3JlZCA9PiB7XG5cdGNvbnN0IHNvdXJjZSA9IGdsb2JUb1JlZ0V4cChpZ25vcmVkLCB7IGdsb2JzdGFyOiB0cnVlLCBleHRlbmRlZDogdHJ1ZSB9KVxuXHRcdC5zb3VyY2U7XG5cdGNvbnN0IG1hdGNoaW5nU3RhcnQgPSBzb3VyY2Uuc2xpY2UoMCwgc291cmNlLmxlbmd0aCAtIDEpICsgXCIoPzokfFxcXFwvKVwiO1xuXHRyZXR1cm4gbWF0Y2hpbmdTdGFydDtcbn07XG5cbmNvbnN0IGlnbm9yZWRUb1JlZ2V4cCA9IGlnbm9yZWQgPT4ge1xuXHRpZiAoQXJyYXkuaXNBcnJheShpZ25vcmVkKSkge1xuXHRcdHJldHVybiBuZXcgUmVnRXhwKGlnbm9yZWQubWFwKGkgPT4gc3RyaW5nVG9SZWdleHAoaSkpLmpvaW4oXCJ8XCIpKTtcblx0fSBlbHNlIGlmICh0eXBlb2YgaWdub3JlZCA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybiBuZXcgUmVnRXhwKHN0cmluZ1RvUmVnZXhwKGlnbm9yZWQpKTtcblx0fSBlbHNlIGlmIChpZ25vcmVkIGluc3RhbmNlb2YgUmVnRXhwKSB7XG5cdFx0cmV0dXJuIGlnbm9yZWQ7XG5cdH0gZWxzZSBpZiAoaWdub3JlZCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBvcHRpb24gZm9yICdpZ25vcmVkJzogJHtpZ25vcmVkfWApO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cbn07XG5cbmNvbnN0IG5vcm1hbGl6ZU9wdGlvbnMgPSBvcHRpb25zID0+IHtcblx0cmV0dXJuIHtcblx0XHRmb2xsb3dTeW1saW5rczogISFvcHRpb25zLmZvbGxvd1N5bWxpbmtzLFxuXHRcdGlnbm9yZWQ6IGlnbm9yZWRUb1JlZ2V4cChvcHRpb25zLmlnbm9yZWQpLFxuXHRcdHBvbGw6IG9wdGlvbnMucG9sbFxuXHR9O1xufTtcblxuY29uc3Qgbm9ybWFsaXplQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgY2FjaGVkTm9ybWFsaXplT3B0aW9ucyA9IG9wdGlvbnMgPT4ge1xuXHRjb25zdCBjYWNoZUVudHJ5ID0gbm9ybWFsaXplQ2FjaGUuZ2V0KG9wdGlvbnMpO1xuXHRpZiAoY2FjaGVFbnRyeSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gY2FjaGVFbnRyeTtcblx0Y29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG5cdG5vcm1hbGl6ZUNhY2hlLnNldChvcHRpb25zLCBub3JtYWxpemVkKTtcblx0cmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuXG5jbGFzcyBXYXRjaHBhY2sgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSBFTVBUWV9PUFRJT05TO1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0dGhpcy5hZ2dyZWdhdGVUaW1lb3V0ID1cblx0XHRcdHR5cGVvZiBvcHRpb25zLmFnZ3JlZ2F0ZVRpbWVvdXQgPT09IFwibnVtYmVyXCJcblx0XHRcdFx0PyBvcHRpb25zLmFnZ3JlZ2F0ZVRpbWVvdXRcblx0XHRcdFx0OiAyMDA7XG5cdFx0dGhpcy53YXRjaGVyT3B0aW9ucyA9IGNhY2hlZE5vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG5cdFx0dGhpcy53YXRjaGVyTWFuYWdlciA9IGdldFdhdGNoZXJNYW5hZ2VyKHRoaXMud2F0Y2hlck9wdGlvbnMpO1xuXHRcdHRoaXMuZmlsZVdhdGNoZXJzID0gbmV3IE1hcCgpO1xuXHRcdHRoaXMuZGlyZWN0b3J5V2F0Y2hlcnMgPSBuZXcgTWFwKCk7XG5cdFx0dGhpcy5zdGFydFRpbWUgPSB1bmRlZmluZWQ7XG5cdFx0dGhpcy5wYXVzZWQgPSBmYWxzZTtcblx0XHR0aGlzLmFnZ3JlZ2F0ZWRDaGFuZ2VzID0gbmV3IFNldCgpO1xuXHRcdHRoaXMuYWdncmVnYXRlZFJlbW92YWxzID0gbmV3IFNldCgpO1xuXHRcdHRoaXMuYWdncmVnYXRlVGltZXIgPSB1bmRlZmluZWQ7XG5cdFx0dGhpcy5fb25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7XG5cdH1cblxuXHR3YXRjaChhcmcxLCBhcmcyLCBhcmczKSB7XG5cdFx0bGV0IGZpbGVzLCBkaXJlY3RvcmllcywgbWlzc2luZywgc3RhcnRUaW1lO1xuXHRcdGlmICghYXJnMikge1xuXHRcdFx0KHtcblx0XHRcdFx0ZmlsZXMgPSBFTVBUWV9BUlJBWSxcblx0XHRcdFx0ZGlyZWN0b3JpZXMgPSBFTVBUWV9BUlJBWSxcblx0XHRcdFx0bWlzc2luZyA9IEVNUFRZX0FSUkFZLFxuXHRcdFx0XHRzdGFydFRpbWVcblx0XHRcdH0gPSBhcmcxKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZmlsZXMgPSBhcmcxO1xuXHRcdFx0ZGlyZWN0b3JpZXMgPSBhcmcyO1xuXHRcdFx0bWlzc2luZyA9IEVNUFRZX0FSUkFZO1xuXHRcdFx0c3RhcnRUaW1lID0gYXJnMztcblx0XHR9XG5cdFx0dGhpcy5wYXVzZWQgPSBmYWxzZTtcblx0XHRjb25zdCBvbGRGaWxlV2F0Y2hlcnMgPSB0aGlzLmZpbGVXYXRjaGVycztcblx0XHRjb25zdCBvbGREaXJlY3RvcnlXYXRjaGVycyA9IHRoaXMuZGlyZWN0b3J5V2F0Y2hlcnM7XG5cdFx0Y29uc3QgaWdub3JlZCA9IHRoaXMud2F0Y2hlck9wdGlvbnMuaWdub3JlZDtcblx0XHRjb25zdCBmaWx0ZXIgPSBpZ25vcmVkXG5cdFx0XHQ/IHBhdGggPT4gIWlnbm9yZWQudGVzdChwYXRoLnJlcGxhY2UoL1xcXFwvZywgXCIvXCIpKVxuXHRcdFx0OiAoKSA9PiB0cnVlO1xuXHRcdGNvbnN0IGFkZFRvTWFwID0gKG1hcCwga2V5LCBpdGVtKSA9PiB7XG5cdFx0XHRjb25zdCBsaXN0ID0gbWFwLmdldChrZXkpO1xuXHRcdFx0aWYgKGxpc3QgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRtYXAuc2V0KGtleSwgW2l0ZW1dKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IGZpbGVXYXRjaGVyc05lZWRlZCA9IG5ldyBNYXAoKTtcblx0XHRjb25zdCBkaXJlY3RvcnlXYXRjaGVyc05lZWRlZCA9IG5ldyBNYXAoKTtcblx0XHRjb25zdCBtaXNzaW5nRmlsZXMgPSBuZXcgU2V0KCk7XG5cdFx0aWYgKHRoaXMud2F0Y2hlck9wdGlvbnMuZm9sbG93U3ltbGlua3MpIHtcblx0XHRcdGNvbnN0IHJlc29sdmVyID0gbmV3IExpbmtSZXNvbHZlcigpO1xuXHRcdFx0Zm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG5cdFx0XHRcdGlmIChmaWx0ZXIoZmlsZSkpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGlubmVyRmlsZSBvZiByZXNvbHZlci5yZXNvbHZlKGZpbGUpKSB7XG5cdFx0XHRcdFx0XHRpZiAoZmlsZSA9PT0gaW5uZXJGaWxlIHx8IGZpbHRlcihpbm5lckZpbGUpKSB7XG5cdFx0XHRcdFx0XHRcdGFkZFRvTWFwKGZpbGVXYXRjaGVyc05lZWRlZCwgaW5uZXJGaWxlLCBmaWxlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGZvciAoY29uc3QgZmlsZSBvZiBtaXNzaW5nKSB7XG5cdFx0XHRcdGlmIChmaWx0ZXIoZmlsZSkpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGlubmVyRmlsZSBvZiByZXNvbHZlci5yZXNvbHZlKGZpbGUpKSB7XG5cdFx0XHRcdFx0XHRpZiAoZmlsZSA9PT0gaW5uZXJGaWxlIHx8IGZpbHRlcihpbm5lckZpbGUpKSB7XG5cdFx0XHRcdFx0XHRcdG1pc3NpbmdGaWxlcy5hZGQoZmlsZSk7XG5cdFx0XHRcdFx0XHRcdGFkZFRvTWFwKGZpbGVXYXRjaGVyc05lZWRlZCwgaW5uZXJGaWxlLCBmaWxlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGZvciAoY29uc3QgZGlyIG9mIGRpcmVjdG9yaWVzKSB7XG5cdFx0XHRcdGlmIChmaWx0ZXIoZGlyKSkge1xuXHRcdFx0XHRcdGxldCBmaXJzdCA9IHRydWU7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBpbm5lckl0ZW0gb2YgcmVzb2x2ZXIucmVzb2x2ZShkaXIpKSB7XG5cdFx0XHRcdFx0XHRpZiAoZmlsdGVyKGlubmVySXRlbSkpIHtcblx0XHRcdFx0XHRcdFx0YWRkVG9NYXAoXG5cdFx0XHRcdFx0XHRcdFx0Zmlyc3QgPyBkaXJlY3RvcnlXYXRjaGVyc05lZWRlZCA6IGZpbGVXYXRjaGVyc05lZWRlZCxcblx0XHRcdFx0XHRcdFx0XHRpbm5lckl0ZW0sXG5cdFx0XHRcdFx0XHRcdFx0ZGlyXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRmaXJzdCA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcblx0XHRcdFx0aWYgKGZpbHRlcihmaWxlKSkge1xuXHRcdFx0XHRcdGFkZFRvTWFwKGZpbGVXYXRjaGVyc05lZWRlZCwgZmlsZSwgZmlsZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGZvciAoY29uc3QgZmlsZSBvZiBtaXNzaW5nKSB7XG5cdFx0XHRcdGlmIChmaWx0ZXIoZmlsZSkpIHtcblx0XHRcdFx0XHRtaXNzaW5nRmlsZXMuYWRkKGZpbGUpO1xuXHRcdFx0XHRcdGFkZFRvTWFwKGZpbGVXYXRjaGVyc05lZWRlZCwgZmlsZSwgZmlsZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGZvciAoY29uc3QgZGlyIG9mIGRpcmVjdG9yaWVzKSB7XG5cdFx0XHRcdGlmIChmaWx0ZXIoZGlyKSkge1xuXHRcdFx0XHRcdGFkZFRvTWFwKGRpcmVjdG9yeVdhdGNoZXJzTmVlZGVkLCBkaXIsIGRpcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgbmV3RmlsZVdhdGNoZXJzID0gbmV3IE1hcCgpO1xuXHRcdGNvbnN0IG5ld0RpcmVjdG9yeVdhdGNoZXJzID0gbmV3IE1hcCgpO1xuXHRcdGNvbnN0IHNldHVwRmlsZVdhdGNoZXIgPSAod2F0Y2hlciwga2V5LCBmaWxlcykgPT4ge1xuXHRcdFx0d2F0Y2hlci5vbihcImluaXRpYWwtbWlzc2luZ1wiLCB0eXBlID0+IHtcblx0XHRcdFx0Zm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG5cdFx0XHRcdFx0aWYgKCFtaXNzaW5nRmlsZXMuaGFzKGZpbGUpKSB0aGlzLl9vblJlbW92ZShmaWxlLCBmaWxlLCB0eXBlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR3YXRjaGVyLm9uKFwiY2hhbmdlXCIsIChtdGltZSwgdHlwZSkgPT4ge1xuXHRcdFx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcblx0XHRcdFx0XHR0aGlzLl9vbkNoYW5nZShmaWxlLCBtdGltZSwgZmlsZSwgdHlwZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0d2F0Y2hlci5vbihcInJlbW92ZVwiLCB0eXBlID0+IHtcblx0XHRcdFx0Zm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG5cdFx0XHRcdFx0dGhpcy5fb25SZW1vdmUoZmlsZSwgZmlsZSwgdHlwZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0bmV3RmlsZVdhdGNoZXJzLnNldChrZXksIHdhdGNoZXIpO1xuXHRcdH07XG5cdFx0Y29uc3Qgc2V0dXBEaXJlY3RvcnlXYXRjaGVyID0gKHdhdGNoZXIsIGtleSwgZGlyZWN0b3JpZXMpID0+IHtcblx0XHRcdHdhdGNoZXIub24oXCJpbml0aWFsLW1pc3NpbmdcIiwgdHlwZSA9PiB7XG5cdFx0XHRcdGZvciAoY29uc3QgaXRlbSBvZiBkaXJlY3Rvcmllcykge1xuXHRcdFx0XHRcdHRoaXMuX29uUmVtb3ZlKGl0ZW0sIGl0ZW0sIHR5cGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHdhdGNoZXIub24oXCJjaGFuZ2VcIiwgKGZpbGUsIG10aW1lLCB0eXBlKSA9PiB7XG5cdFx0XHRcdGZvciAoY29uc3QgaXRlbSBvZiBkaXJlY3Rvcmllcykge1xuXHRcdFx0XHRcdHRoaXMuX29uQ2hhbmdlKGl0ZW0sIG10aW1lLCBmaWxlLCB0eXBlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR3YXRjaGVyLm9uKFwicmVtb3ZlXCIsIHR5cGUgPT4ge1xuXHRcdFx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgZGlyZWN0b3JpZXMpIHtcblx0XHRcdFx0XHR0aGlzLl9vblJlbW92ZShpdGVtLCBpdGVtLCB0eXBlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRuZXdEaXJlY3RvcnlXYXRjaGVycy5zZXQoa2V5LCB3YXRjaGVyKTtcblx0XHR9O1xuXHRcdC8vIENsb3NlIHVubmVlZGVkIG9sZCB3YXRjaGVyc1xuXHRcdGNvbnN0IGZpbGVXYXRjaGVyc1RvQ2xvc2UgPSBbXTtcblx0XHRjb25zdCBkaXJlY3RvcnlXYXRjaGVyc1RvQ2xvc2UgPSBbXTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHddIG9mIG9sZEZpbGVXYXRjaGVycykge1xuXHRcdFx0aWYgKCFmaWxlV2F0Y2hlcnNOZWVkZWQuaGFzKGtleSkpIHtcblx0XHRcdFx0dy5jbG9zZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZmlsZVdhdGNoZXJzVG9DbG9zZS5wdXNoKHcpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRmb3IgKGNvbnN0IFtrZXksIHddIG9mIG9sZERpcmVjdG9yeVdhdGNoZXJzKSB7XG5cdFx0XHRpZiAoIWRpcmVjdG9yeVdhdGNoZXJzTmVlZGVkLmhhcyhrZXkpKSB7XG5cdFx0XHRcdHcuY2xvc2UoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRpcmVjdG9yeVdhdGNoZXJzVG9DbG9zZS5wdXNoKHcpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBDcmVhdGUgbmV3IHdhdGNoZXJzIGFuZCBpbnN0YWxsIGhhbmRsZXJzIG9uIHRoZXNlIHdhdGNoZXJzXG5cdFx0d2F0Y2hFdmVudFNvdXJjZS5iYXRjaCgoKSA9PiB7XG5cdFx0XHRmb3IgKGNvbnN0IFtrZXksIGZpbGVzXSBvZiBmaWxlV2F0Y2hlcnNOZWVkZWQpIHtcblx0XHRcdFx0Y29uc3Qgd2F0Y2hlciA9IHRoaXMud2F0Y2hlck1hbmFnZXIud2F0Y2hGaWxlKGtleSwgc3RhcnRUaW1lKTtcblx0XHRcdFx0aWYgKHdhdGNoZXIpIHtcblx0XHRcdFx0XHRzZXR1cEZpbGVXYXRjaGVyKHdhdGNoZXIsIGtleSwgZmlsZXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGNvbnN0IFtrZXksIGRpcmVjdG9yaWVzXSBvZiBkaXJlY3RvcnlXYXRjaGVyc05lZWRlZCkge1xuXHRcdFx0XHRjb25zdCB3YXRjaGVyID0gdGhpcy53YXRjaGVyTWFuYWdlci53YXRjaERpcmVjdG9yeShrZXksIHN0YXJ0VGltZSk7XG5cdFx0XHRcdGlmICh3YXRjaGVyKSB7XG5cdFx0XHRcdFx0c2V0dXBEaXJlY3RvcnlXYXRjaGVyKHdhdGNoZXIsIGtleSwgZGlyZWN0b3JpZXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Ly8gQ2xvc2Ugb2xkIHdhdGNoZXJzXG5cdFx0Zm9yIChjb25zdCB3IG9mIGZpbGVXYXRjaGVyc1RvQ2xvc2UpIHcuY2xvc2UoKTtcblx0XHRmb3IgKGNvbnN0IHcgb2YgZGlyZWN0b3J5V2F0Y2hlcnNUb0Nsb3NlKSB3LmNsb3NlKCk7XG5cdFx0Ly8gU3RvcmUgd2F0Y2hlcnNcblx0XHR0aGlzLmZpbGVXYXRjaGVycyA9IG5ld0ZpbGVXYXRjaGVycztcblx0XHR0aGlzLmRpcmVjdG9yeVdhdGNoZXJzID0gbmV3RGlyZWN0b3J5V2F0Y2hlcnM7XG5cdFx0dGhpcy5zdGFydFRpbWUgPSBzdGFydFRpbWU7XG5cdH1cblxuXHRjbG9zZSgpIHtcblx0XHR0aGlzLnBhdXNlZCA9IHRydWU7XG5cdFx0aWYgKHRoaXMuYWdncmVnYXRlVGltZXIpIGNsZWFyVGltZW91dCh0aGlzLmFnZ3JlZ2F0ZVRpbWVyKTtcblx0XHRmb3IgKGNvbnN0IHcgb2YgdGhpcy5maWxlV2F0Y2hlcnMudmFsdWVzKCkpIHcuY2xvc2UoKTtcblx0XHRmb3IgKGNvbnN0IHcgb2YgdGhpcy5kaXJlY3RvcnlXYXRjaGVycy52YWx1ZXMoKSkgdy5jbG9zZSgpO1xuXHRcdHRoaXMuZmlsZVdhdGNoZXJzLmNsZWFyKCk7XG5cdFx0dGhpcy5kaXJlY3RvcnlXYXRjaGVycy5jbGVhcigpO1xuXHR9XG5cblx0cGF1c2UoKSB7XG5cdFx0dGhpcy5wYXVzZWQgPSB0cnVlO1xuXHRcdGlmICh0aGlzLmFnZ3JlZ2F0ZVRpbWVyKSBjbGVhclRpbWVvdXQodGhpcy5hZ2dyZWdhdGVUaW1lcik7XG5cdH1cblxuXHRnZXRUaW1lcygpIHtcblx0XHRjb25zdCBkaXJlY3RvcnlXYXRjaGVycyA9IG5ldyBTZXQoKTtcblx0XHRhZGRXYXRjaGVyc1RvU2V0KHRoaXMuZmlsZVdhdGNoZXJzLnZhbHVlcygpLCBkaXJlY3RvcnlXYXRjaGVycyk7XG5cdFx0YWRkV2F0Y2hlcnNUb1NldCh0aGlzLmRpcmVjdG9yeVdhdGNoZXJzLnZhbHVlcygpLCBkaXJlY3RvcnlXYXRjaGVycyk7XG5cdFx0Y29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0XHRmb3IgKGNvbnN0IHcgb2YgZGlyZWN0b3J5V2F0Y2hlcnMpIHtcblx0XHRcdGNvbnN0IHRpbWVzID0gdy5nZXRUaW1lcygpO1xuXHRcdFx0Zm9yIChjb25zdCBmaWxlIG9mIE9iamVjdC5rZXlzKHRpbWVzKSkgb2JqW2ZpbGVdID0gdGltZXNbZmlsZV07XG5cdFx0fVxuXHRcdHJldHVybiBvYmo7XG5cdH1cblxuXHRnZXRUaW1lSW5mb0VudHJpZXMoKSB7XG5cdFx0aWYgKEVYSVNUQU5DRV9PTkxZX1RJTUVfRU5UUlkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0RVhJU1RBTkNFX09OTFlfVElNRV9FTlRSWSA9IHJlcXVpcmUoXCIuL0RpcmVjdG9yeVdhdGNoZXJcIilcblx0XHRcdFx0LkVYSVNUQU5DRV9PTkxZX1RJTUVfRU5UUlk7XG5cdFx0fVxuXHRcdGNvbnN0IGRpcmVjdG9yeVdhdGNoZXJzID0gbmV3IFNldCgpO1xuXHRcdGFkZFdhdGNoZXJzVG9TZXQodGhpcy5maWxlV2F0Y2hlcnMudmFsdWVzKCksIGRpcmVjdG9yeVdhdGNoZXJzKTtcblx0XHRhZGRXYXRjaGVyc1RvU2V0KHRoaXMuZGlyZWN0b3J5V2F0Y2hlcnMudmFsdWVzKCksIGRpcmVjdG9yeVdhdGNoZXJzKTtcblx0XHRjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG5cdFx0Zm9yIChjb25zdCB3IG9mIGRpcmVjdG9yeVdhdGNoZXJzKSB7XG5cdFx0XHRjb25zdCB0aW1lcyA9IHcuZ2V0VGltZUluZm9FbnRyaWVzKCk7XG5cdFx0XHRmb3IgKGNvbnN0IFtwYXRoLCBlbnRyeV0gb2YgdGltZXMpIHtcblx0XHRcdFx0aWYgKG1hcC5oYXMocGF0aCkpIHtcblx0XHRcdFx0XHRpZiAoZW50cnkgPT09IEVYSVNUQU5DRV9PTkxZX1RJTUVfRU5UUlkpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdGNvbnN0IHZhbHVlID0gbWFwLmdldChwYXRoKTtcblx0XHRcdFx0XHRpZiAodmFsdWUgPT09IGVudHJ5KSBjb250aW51ZTtcblx0XHRcdFx0XHRpZiAodmFsdWUgIT09IEVYSVNUQU5DRV9PTkxZX1RJTUVfRU5UUlkpIHtcblx0XHRcdFx0XHRcdG1hcC5zZXQocGF0aCwgT2JqZWN0LmFzc2lnbih7fSwgdmFsdWUsIGVudHJ5KSk7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0bWFwLnNldChwYXRoLCBlbnRyeSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBtYXA7XG5cdH1cblxuXHRnZXRBZ2dyZWdhdGVkKCkge1xuXHRcdGlmICh0aGlzLmFnZ3JlZ2F0ZVRpbWVyKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy5hZ2dyZWdhdGVUaW1lcik7XG5cdFx0XHR0aGlzLmFnZ3JlZ2F0ZVRpbWVyID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRjb25zdCBjaGFuZ2VzID0gdGhpcy5hZ2dyZWdhdGVkQ2hhbmdlcztcblx0XHRjb25zdCByZW1vdmFscyA9IHRoaXMuYWdncmVnYXRlZFJlbW92YWxzO1xuXHRcdHRoaXMuYWdncmVnYXRlZENoYW5nZXMgPSBuZXcgU2V0KCk7XG5cdFx0dGhpcy5hZ2dyZWdhdGVkUmVtb3ZhbHMgPSBuZXcgU2V0KCk7XG5cdFx0cmV0dXJuIHsgY2hhbmdlcywgcmVtb3ZhbHMgfTtcblx0fVxuXG5cdF9vbkNoYW5nZShpdGVtLCBtdGltZSwgZmlsZSwgdHlwZSkge1xuXHRcdGZpbGUgPSBmaWxlIHx8IGl0ZW07XG5cdFx0aWYgKCF0aGlzLnBhdXNlZCkge1xuXHRcdFx0dGhpcy5lbWl0KFwiY2hhbmdlXCIsIGZpbGUsIG10aW1lLCB0eXBlKTtcblx0XHRcdGlmICh0aGlzLmFnZ3JlZ2F0ZVRpbWVyKSBjbGVhclRpbWVvdXQodGhpcy5hZ2dyZWdhdGVUaW1lcik7XG5cdFx0XHR0aGlzLmFnZ3JlZ2F0ZVRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9vblRpbWVvdXQsIHRoaXMuYWdncmVnYXRlVGltZW91dCk7XG5cdFx0fVxuXHRcdHRoaXMuYWdncmVnYXRlZFJlbW92YWxzLmRlbGV0ZShpdGVtKTtcblx0XHR0aGlzLmFnZ3JlZ2F0ZWRDaGFuZ2VzLmFkZChpdGVtKTtcblx0fVxuXG5cdF9vblJlbW92ZShpdGVtLCBmaWxlLCB0eXBlKSB7XG5cdFx0ZmlsZSA9IGZpbGUgfHwgaXRlbTtcblx0XHRpZiAoIXRoaXMucGF1c2VkKSB7XG5cdFx0XHR0aGlzLmVtaXQoXCJyZW1vdmVcIiwgZmlsZSwgdHlwZSk7XG5cdFx0XHRpZiAodGhpcy5hZ2dyZWdhdGVUaW1lcikgY2xlYXJUaW1lb3V0KHRoaXMuYWdncmVnYXRlVGltZXIpO1xuXHRcdFx0dGhpcy5hZ2dyZWdhdGVUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fb25UaW1lb3V0LCB0aGlzLmFnZ3JlZ2F0ZVRpbWVvdXQpO1xuXHRcdH1cblx0XHR0aGlzLmFnZ3JlZ2F0ZWRDaGFuZ2VzLmRlbGV0ZShpdGVtKTtcblx0XHR0aGlzLmFnZ3JlZ2F0ZWRSZW1vdmFscy5hZGQoaXRlbSk7XG5cdH1cblxuXHRfb25UaW1lb3V0KCkge1xuXHRcdHRoaXMuYWdncmVnYXRlVGltZXIgPSB1bmRlZmluZWQ7XG5cdFx0Y29uc3QgY2hhbmdlcyA9IHRoaXMuYWdncmVnYXRlZENoYW5nZXM7XG5cdFx0Y29uc3QgcmVtb3ZhbHMgPSB0aGlzLmFnZ3JlZ2F0ZWRSZW1vdmFscztcblx0XHR0aGlzLmFnZ3JlZ2F0ZWRDaGFuZ2VzID0gbmV3IFNldCgpO1xuXHRcdHRoaXMuYWdncmVnYXRlZFJlbW92YWxzID0gbmV3IFNldCgpO1xuXHRcdHRoaXMuZW1pdChcImFnZ3JlZ2F0ZWRcIiwgY2hhbmdlcywgcmVtb3ZhbHMpO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gV2F0Y2hwYWNrO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/watchpack/lib/watchpack.js\n");

/***/ })

}]);